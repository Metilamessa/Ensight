{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 60, "column": 0}, "map": {"version":3,"sources":["file:///home/liban/Projects/Meti/Ensight_frontend/frontend/src/lib/constants.ts"],"sourcesContent":["export const BASE_URL = \"https://ensight-backend.onrender.com\";\n"],"names":[],"mappings":";;;AAAO,MAAM,WAAW","debugId":null}},
    {"offset": {"line": 70, "column": 0}, "map": {"version":3,"sources":["file:///home/liban/Projects/Meti/Ensight_frontend/frontend/src/app/api/article/%5Bid%5D/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\";\nimport { BASE_URL } from \"@/lib/constants\";\n\nexport async function GET(\n  request: NextRequest,\n  context: { params: Promise<{ id: string }> }\n) {\n  try {\n    const params = await context.params;\n    const response = await fetch(`${BASE_URL}/articles/${params.id}`, {\n      headers: {\n        Authorization: request.headers.get(\"Authorization\") || \"\",\n      },\n    });\n\n    if (!response.ok) {\n      const error = await response.json();\n      return NextResponse.json(\n        { message: error.message || \"Failed to fetch article\" },\n        { status: response.status }\n      );\n    }\n\n    const data = await response.json();\n    return NextResponse.json(data, { status: 200 });\n    //eslint-disable-next-line\n  } catch (error: any) {\n    console.error(\"Fetch error:\", error);\n    return NextResponse.json(\n      {\n        message: \"Internal Server Error\",\n        error: error?.message || String(error),\n      },\n      { status: 500 }\n    );\n  }\n}\n\nexport async function PATCH(\n  request: NextRequest,\n  context: { params: Promise<{ id: string }> }\n) {\n  try {\n    const params = await context.params; // Await the params\n    const formData = await request.formData();\n    const articleData = formData.get(\"article_data\");\n    const image = formData.get(\"image\");\n    const token = request.headers.get(\"Authorization\");\n\n    if (!token) {\n      return NextResponse.json(\n        { message: \"Authorization token is required\" },\n        { status: 401 }\n      );\n    }\n\n    if (!articleData) {\n      return NextResponse.json(\n        { message: \"article_data is required\" },\n        { status: 400 }\n      );\n    }\n\n    const formDataToSend = new FormData();\n    formDataToSend.append(\"article_data\", articleData);\n    if (image) {\n      formDataToSend.append(\"image\", image);\n    }\n\n    const response = await fetch(`${BASE_URL}/articles/${params.id}`, {\n      method: \"PATCH\",\n      headers: {\n        Authorization: token,\n      },\n      body: formDataToSend,\n    });\n\n    if (!response.ok) {\n      const error = await response.json();\n      return NextResponse.json(\n        { message: error.detail || \"Failed to update article\" },\n        { status: response.status }\n      );\n    }\n\n    const data = await response.json();\n    return NextResponse.json(data, { status: 200 });\n    //eslint-disable-next-line\n  } catch (error: any) {\n    console.error(\"Fetch error:\", error);\n    return NextResponse.json(\n      {\n        message: \"Internal Server Error\",\n        error: error?.message || String(error),\n      },\n      { status: 500 }\n    );\n  }\n}\n\nexport async function DELETE(\n  request: NextRequest,\n  context: { params: Promise<{ id: string }> }\n) {\n  try {\n    const params = await context.params; // Await the params\n    const response = await fetch(`${BASE_URL}/articles/${params.id}`, {\n      method: \"DELETE\",\n      headers: {\n        Authorization: request.headers.get(\"Authorization\") || \"\",\n      },\n    });\n\n    if (!response.ok) {\n      const error = await response.json();\n      return NextResponse.json(\n        { message: error.message || \"Failed to delete article\" },\n        { status: response.status }\n      );\n    }\n\n    return NextResponse.json(\n      { message: \"Article deleted successfully\" },\n      { status: 200 }\n    );\n    //eslint-disable-next-line\n  } catch (error: any) {\n    console.error(\"Fetch error:\", error);\n    return NextResponse.json(\n      {\n        message: \"Internal Server Error\",\n        error: error?.message || String(error),\n      },\n      { status: 500 }\n    );\n  }\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}