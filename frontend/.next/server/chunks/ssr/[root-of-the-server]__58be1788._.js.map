{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/met/2025%20Projects/Ensight_frontend_2/frontend/src/components/ui/management/article/ArticlesTableView.tsx"],"sourcesContent":["import { useState } from \"react\";\nimport { Article } from \"@/lib/types\";\nimport {\n  Badge,\n  Menu,\n  ActionIcon,\n  Table,\n  Loader,\n  Pagination,\n} from \"@mantine/core\";\nimport { IconDots, IconEye, IconPencil, IconTrash, IconCheck } from \"@tabler/icons-react\";\n\nconst statusColors: Record<\"DRAFT\" | \"REVIEW\" | \"PUBLISHED\", string> = {\n  DRAFT: \"red\",\n  REVIEW: \"yellow\",\n  PUBLISHED: \"green\",\n};\n\nconst canApprove = (role?: string) => {\n  return role && [\"EDITOR\", \"ADMIN\", \"SUPERADMIN\"].includes(role);\n};\n\ninterface ArticlesTableViewProps {\n  articles: Article[];\n  loading: boolean;\n  onView: (article: Article) => void;\n  onEdit: (article: Article) => void;\n  onDelete: (id: string) => void;\n  onApprove?: (id: string) => void;\n  itemsPerPage?: number;\n  userRole?: string;\n}\n\nexport default function ArticlesTableView({\n  articles,\n  loading,\n  onView,\n  onEdit,\n  onDelete,\n  onApprove,\n  itemsPerPage = 5,\n  userRole,\n}: ArticlesTableViewProps) {\n  const [activePage, setPage] = useState(1);\n\n  const totalPages = Math.ceil(articles.length / itemsPerPage);\n  const paginatedArticles = articles.slice(\n    (activePage - 1) * itemsPerPage,\n    activePage * itemsPerPage\n  );\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center py-8\">\n        <Loader />\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      <Table\n        highlightOnHover\n        verticalSpacing=\"sm\"\n        className=\"border border-gray-300\"\n      >\n        <Table.Thead className=\"text-center text-gray-700 bg-gray-400\">\n          <Table.Tr>\n            <Table.Th>Title</Table.Th>\n            <Table.Th>Category</Table.Th>\n            <Table.Th>Subcategory</Table.Th>\n            <Table.Th>Author</Table.Th>\n            <Table.Th>Status</Table.Th>\n            <Table.Th>Publication Date</Table.Th>\n            <Table.Th>Actions</Table.Th>\n          </Table.Tr>\n        </Table.Thead>\n        <Table.Tbody>\n          {paginatedArticles.map((article) => (\n            <Table.Tr key={article.id} className=\"text-left\">\n              <Table.Td>{article.title}</Table.Td>\n              <Table.Td>{article.category || \"None\"}</Table.Td>\n              <Table.Td>{article.subcategory || \"-\"}</Table.Td>\n              <Table.Td>{article.author}</Table.Td>\n              <Table.Td>\n                <Badge color={statusColors[article.status]} size=\"sm\">\n                  {article.status}\n                </Badge>\n              </Table.Td>\n              <Table.Td>\n                {article.date\n                  ? new Date(article.date).toLocaleDateString()\n                  : \"-\"}\n              </Table.Td>\n              <Table.Td>\n                <Menu shadow=\"md\" width={200} position=\"bottom-end\">\n                  <Menu.Target>\n                    <ActionIcon color=\"blue\" title=\"Actions\" size=\"sm\">\n                      <IconDots size={14} />\n                    </ActionIcon>\n                  </Menu.Target>\n                  <Menu.Dropdown>\n                    <Menu.Item\n                      leftSection={<IconEye size={14} />}\n                      onClick={() => onView(article)}\n                    >\n                      View\n                    </Menu.Item>\n                    <Menu.Item\n                      leftSection={<IconPencil size={14} />}\n                      onClick={() => onEdit(article)}\n                    >\n                      Edit\n                    </Menu.Item>\n                    {canApprove(userRole) &&\n                      onApprove &&\n                      (article.status === \"DRAFT\" || article.status === \"REVIEW\") && (\n                        <Menu.Item\n                          leftSection={<IconCheck size={14} />}\n                          onClick={() => onApprove(article.id)}\n                          color=\"green\"\n                        >\n                          Approve\n                        </Menu.Item>\n                      )}\n                    <Menu.Item\n                      leftSection={<IconTrash size={14} />}\n                      onClick={() => onDelete(article.id)}\n                      color=\"red\"\n                    >\n                      Delete\n                    </Menu.Item>\n                  </Menu.Dropdown>\n                </Menu>\n              </Table.Td>\n            </Table.Tr>\n          ))}\n        </Table.Tbody>\n      </Table>\n\n      {totalPages > 1 && (\n        <div className=\"flex justify-end mt-4\">\n          <span className=\"mt-2 mr-2 text-xs text-gray-300\">\n            Total Articles: ({articles.length})\n          </span>\n          <Pagination\n            total={totalPages}\n            value={activePage}\n            onChange={setPage}\n            size=\"sm\"\n            radius=\"md\"\n            withEdges\n          />\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 362, "column": 0}, "map": {"version":3,"sources":["file:///home/met/2025%20Projects/Ensight_frontend_2/frontend/src/components/ui/management/article/ArticleFormBase.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { useForm } from \"@mantine/form\";\nimport {\n  Button,\n  TextInput,\n  Textarea,\n  Select,\n  Group,\n  Switch,\n  FileInput,\n  Loader,\n  Text,\n  Stack,\n  NumberInput,\n} from \"@mantine/core\";\nimport { DateTimePicker } from \"@mantine/dates\";\nimport { Article } from \"@/lib/types\";\nimport Image from \"next/image\";\n\nconst categories = [\n  {\n    label: \"Business\",\n    value: \"business\",\n    subcategories: [\"startup\", \"markets\"],\n  },\n  {\n    label: \"Finance\",\n    value: \"finance\",\n    subcategories: [\"banking\", \"investment\"],\n  },\n  { label: \"Economy\", value: \"economy\", subcategories: [\"policies\", \"trade\"] },\n  {\n    label: \"Tech and Science\",\n    value: \"tech and science\",\n    subcategories: [\"Innovation\", \"Digital\"],\n  },\n];\n\ninterface ArticleFormBaseProps {\n  initialValues: Article;\n  onSubmit: (values: Article) => Promise<void>;\n  loading: boolean;\n  isEditMode: boolean;\n}\n\nexport default function ArticleFormBase({\n  initialValues,\n  onSubmit,\n  loading,\n  isEditMode,\n}: ArticleFormBaseProps) {\n  const [subcategories, setSubcategories] = useState<string[]>([]);\n\n  const form = useForm<Article>({\n    initialValues,\n    validate: {\n      title: (value) =>\n        value.length < 3 ? \"Title must be at least 3 characters\" : null,\n      category: (value) => (!value ? \"Category is required\" : null),\n      date: (value) => (!value ? \"Publication date is required\" : null),\n      readTime: (value) => (!value ? \"Read time is required\" : null),\n      content: (value) =>\n        value.length < 10 ? \"Content must be at least 10 characters\" : null,\n      description: (value) =>\n        value.length < 10 ? \"Description must be at least 10 characters\" : null,\n      image: (value) =>\n        isEditMode && !value ? \"Image is required for new articles\" : null,\n    },\n  });\n\n  useEffect(() => {\n    if (form.values.category) {\n      const selectedCategory = categories.find(\n        (cat) => cat.value === form.values.category\n      );\n      const newSubcategories = selectedCategory?.subcategories || [];\n      setSubcategories((prev) => {\n        const isSame =\n          prev.length === newSubcategories.length &&\n          prev.every((val, index) => val === newSubcategories[index]);\n        return isSame ? prev : newSubcategories;\n      });\n      if (\n        form.values.subcategory &&\n        !newSubcategories.includes(form.values.subcategory)\n      ) {\n        form.setFieldValue(\"subcategory\", \"\");\n      }\n    } else {\n      setSubcategories([]);\n      form.setFieldValue(\"subcategory\", \"\");\n    }\n  }, [form.values.category]);\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center py-8\">\n        <Loader />\n      </div>\n    );\n  }\n\n  return (\n    <form onSubmit={form.onSubmit(onSubmit)} className=\"p-4\">\n      <TextInput\n        label=\"Title\"\n        placeholder=\"Enter article title\"\n        {...form.getInputProps(\"title\")}\n        mb=\"md\"\n      />\n      {!isEditMode && (\n        <Select\n          label=\"Status\"\n          placeholder=\"Select status\"\n          data={[\n            { label: \"Draft\", value: \"DRAFT\" },\n            { label: \"Published\", value: \"PUBLISHED\" },\n          ]}\n          {...form.getInputProps(\"status\")}\n          mb=\"md\"\n        />\n      )}\n      <Select\n        label=\"Category\"\n        placeholder=\"Select category\"\n        data={categories.map((cat) => ({\n          label: cat.label,\n          value: cat.value,\n        }))}\n        {...form.getInputProps(\"category\")}\n        mb=\"md\"\n      />\n      <Select\n        label=\"Subcategory (First select category)\"\n        placeholder=\"Select subcategory\"\n        data={subcategories.map((sub) => ({ label: sub, value: sub }))}\n        {...form.getInputProps(\"subcategory\")}\n        disabled={!form.values.category}\n        mb=\"md\"\n      />\n      <DateTimePicker\n        label=\"Publication Date\"\n        placeholder=\"Select publication date\"\n        value={form.values.date}\n        onChange={(value: string | null) => {\n          const date = value ? new Date(value) : null;\n          form.setFieldValue(\"date\", date);\n        }}\n        error={form.errors.date}\n        mb=\"md\"\n      />\n      <NumberInput\n        label=\"Read Time\"\n        placeholder=\"Enter read time (e.g., 5 min)\"\n        {...form.getInputProps(\"readTime\")}\n        mb=\"md\"\n      />\n      <Group justify=\"space-between\" align=\"flex-start\" wrap=\"nowrap\" mb=\"md\">\n        {isEditMode && form.values.image && (\n          <Stack align=\"center\" gap=\"xs\" style={{ flexShrink: 0 }}>\n            <Image\n              src={\n                form.values.image instanceof File\n                  ? URL.createObjectURL(form.values.image)\n                  : typeof form.values.image === \"string\"\n                  ? form.values.image\n                  : \"\"\n              }\n              alt={form.values.title || \"Uploaded image\"}\n              width={100}\n              height={100}\n              style={{ objectFit: \"cover\" }}\n            />\n            <Text size=\"sm\" color=\"dimmed\">\n              Current Image\n            </Text>\n          </Stack>\n        )}\n        <FileInput\n          label=\"Select an Image\"\n          placeholder=\"Upload image\"\n          accept=\"image/*\"\n          {...form.getInputProps(\"image\")}\n          style={{\n            flex: 1,\n            maxWidth: `${isEditMode ? \"calc(100% - 120px)\" : \"100%\"}`,\n          }}\n        />\n      </Group>\n      <Textarea\n        label=\"Content\"\n        placeholder=\"Enter article content\"\n        minRows={6}\n        {...form.getInputProps(\"content\")}\n        mb=\"md\"\n      />\n      <Textarea\n        label=\"Description\"\n        placeholder=\"Enter article description\"\n        minRows={4}\n        {...form.getInputProps(\"description\")}\n        mb=\"md\"\n      />\n      <Switch\n        label=\"Premium Content\"\n        checked={form.values.isPremium}\n        onChange={(event) =>\n          form.setFieldValue(\"isPremium\", event.currentTarget.checked)\n        }\n        mb=\"md\"\n      />\n      <TextInput\n        label=\"Image Caption\"\n        placeholder=\"Image caption (optional)\"\n        {...form.getInputProps(\"caption\")}\n        mb=\"md\"\n      />\n      <TextInput\n        label=\"Quote\"\n        placeholder=\"Enter quote (optional)\"\n        {...form.getInputProps(\"quote\")}\n        mb=\"md\"\n      />\n      <TextInput\n        label=\"Quote Author\"\n        placeholder=\"Enter quote author (optional)\"\n        {...form.getInputProps(\"quoteAuthor\")}\n        mb=\"md\"\n      />\n      <TextInput\n        label=\"Tag\"\n        placeholder=\"Enter tag (optional)\"\n        {...form.getInputProps(\"tag\")}\n        mb=\"md\"\n      />\n      <Group justify=\"flex-end\" mt=\"lg\">\n        <Button type=\"submit\" disabled={loading || !form.isDirty} color=\"blue\">\n          {isEditMode ? \"Update Article\" : \"Create Article\"}\n        </Button>\n      </Group>\n    </form>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 720, "column": 0}, "map": {"version":3,"sources":["file:///home/met/2025%20Projects/Ensight_frontend_2/frontend/src/components/ui/management/article/AddArticleForm.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { Article } from \"@/lib/types\";\nimport ArticleFormBase from \"./ArticleFormBase\";\nimport toast from \"react-hot-toast\";\n\ninterface AddArticleFormProps {\n  onClose: () => void;\n}\n\nexport default function AddArticleForm({ onClose }: AddArticleFormProps) {\n  const [token, setToken] = useState<string | null>(null);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    if (typeof window === \"undefined\") return;\n    const storedToken = localStorage.getItem(\"token\");\n    if (storedToken){ \n      console.log(\"Token loaded:\", storedToken);\n      setToken(storedToken);\n    }\n  }, []);\n\n  const initialValues: Article = {\n    id: uuidv4(),\n    slug: \"\",\n    title: \"\",\n    status: \"DRAFT\",\n    category: \"\",\n    subcategory: \"\",\n    author: \"\",\n    date: new Date(),\n    readTime: \"\",\n    image: \"\",\n    href: null,\n    content: \"\",\n    description: \"\",\n    isPremium: false,\n    caption: \"\",\n    quote: \"\",\n    quoteAuthor: \"\",\n    tag: \"\",\n    noOfReaders: 0,\n  };\n\n  const handleSubmit = async (values: Article) => {\n    if (!token) {\n      toast.error(\"Authentication token missing\");\n      return;\n    }\n    // Ensure an image File is provided; backend requires it and will fail to parse without it\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const imageFile = values.image && (values.image as any) instanceof File ? (values.image as File) : null;\n    if (!imageFile) {\n      toast.error(\"Image is required\");\n      return;\n    }\n    setLoading(true);\n    try {\n      const articleData = {\n        title: values.title,\n        status: values.status,\n        category: values.category,\n        author: values.author || \"d8a6d106-016d-4faa-9bed-5e223cd6536b\",\n        subcategory: values.subcategory || null,\n        date: values.date instanceof Date ? values.date.toISOString() : null,\n        read_time: values.readTime,\n        content: values.content,\n        description: values.description,\n        is_premium: values.isPremium,\n        caption: values.caption || null,\n        quote: values.quote || null,\n        quote_author: values.quoteAuthor || null,\n        tag: values.tag || null,\n      };\n\n      const formData = new FormData();\n      formData.append(\"article_data\", JSON.stringify(articleData));\n      formData.append(\"image\", imageFile, imageFile.name || \"upload.jpg\");\n\n      const response = await fetch(\"/api/article\", {\n        method: \"POST\",\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n        body: formData,\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        toast.error(error.message || \"Failed to create article\");\n        return;\n      }\n\n      toast.success(\"Article created successfully\");\n      onClose();\n      //eslint-disable-next-line @typescript-eslint/no-explicit-any\n    } catch (error: any) {\n      toast.error(error.message || \"Failed to create article\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <ArticleFormBase\n      initialValues={initialValues}\n      onSubmit={handleSubmit}\n      loading={loading}\n      isEditMode={false}\n    />\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAEA;AACA;AANA;;;;;;AAYe,SAAS,eAAe,EAAE,OAAO,EAAuB;IACrE,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB;IAClD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,wCAAmC;;QACnC,MAAM;IAKR,GAAG,EAAE;IAEL,MAAM,gBAAyB;QAC7B,IAAI,CAAA,GAAA,kLAAA,CAAA,KAAM,AAAD;QACT,MAAM;QACN,OAAO;QACP,QAAQ;QACR,UAAU;QACV,aAAa;QACb,QAAQ;QACR,MAAM,IAAI;QACV,UAAU;QACV,OAAO;QACP,MAAM;QACN,SAAS;QACT,aAAa;QACb,WAAW;QACX,SAAS;QACT,OAAO;QACP,aAAa;QACb,KAAK;QACL,aAAa;IACf;IAEA,MAAM,eAAe,OAAO;QAC1B,IAAI,CAAC,OAAO;YACV,uJAAA,CAAA,UAAK,CAAC,KAAK,CAAC;YACZ;QACF;QACA,0FAA0F;QAC1F,8DAA8D;QAC9D,MAAM,YAAY,OAAO,KAAK,IAAI,AAAC,OAAO,KAAK,YAAoB,OAAQ,OAAO,KAAK,GAAY;QACnG,IAAI,CAAC,WAAW;YACd,uJAAA,CAAA,UAAK,CAAC,KAAK,CAAC;YACZ;QACF;QACA,WAAW;QACX,IAAI;YACF,MAAM,cAAc;gBAClB,OAAO,OAAO,KAAK;gBACnB,QAAQ,OAAO,MAAM;gBACrB,UAAU,OAAO,QAAQ;gBACzB,QAAQ,OAAO,MAAM,IAAI;gBACzB,aAAa,OAAO,WAAW,IAAI;gBACnC,MAAM,OAAO,IAAI,YAAY,OAAO,OAAO,IAAI,CAAC,WAAW,KAAK;gBAChE,WAAW,OAAO,QAAQ;gBAC1B,SAAS,OAAO,OAAO;gBACvB,aAAa,OAAO,WAAW;gBAC/B,YAAY,OAAO,SAAS;gBAC5B,SAAS,OAAO,OAAO,IAAI;gBAC3B,OAAO,OAAO,KAAK,IAAI;gBACvB,cAAc,OAAO,WAAW,IAAI;gBACpC,KAAK,OAAO,GAAG,IAAI;YACrB;YAEA,MAAM,WAAW,IAAI;YACrB,SAAS,MAAM,CAAC,gBAAgB,KAAK,SAAS,CAAC;YAC/C,SAAS,MAAM,CAAC,SAAS,WAAW,UAAU,IAAI,IAAI;YAEtD,MAAM,WAAW,MAAM,MAAM,gBAAgB;gBAC3C,QAAQ;gBACR,SAAS;oBACP,eAAe,CAAC,OAAO,EAAE,OAAO;gBAClC;gBACA,MAAM;YACR;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,QAAQ,MAAM,SAAS,IAAI;gBACjC,uJAAA,CAAA,UAAK,CAAC,KAAK,CAAC,MAAM,OAAO,IAAI;gBAC7B;YACF;YAEA,uJAAA,CAAA,UAAK,CAAC,OAAO,CAAC;YACd;QACA,6DAA6D;QAC/D,EAAE,OAAO,OAAY;YACnB,uJAAA,CAAA,UAAK,CAAC,KAAK,CAAC,MAAM,OAAO,IAAI;QAC/B,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,8OAAC,oKAAA,CAAA,UAAe;QACd,eAAe;QACf,UAAU;QACV,SAAS;QACT,YAAY;;;;;;AAGlB","debugId":null}},
    {"offset": {"line": 834, "column": 0}, "map": {"version":3,"sources":["file:///home/met/2025%20Projects/Ensight_frontend_2/frontend/src/components/ui/management/article/EditArticleForm.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { Article } from \"@/lib/types\";\nimport ArticleFormBase from \"./ArticleFormBase\";\nimport toast from \"react-hot-toast\";\nimport { Loader } from \"@mantine/core\";\n\ninterface EditArticleFormProps {\n  article: Partial<Article>;\n  onClose: () => void;\n}\n\nexport default function EditArticleForm({\n  article,\n  onClose,\n}: EditArticleFormProps) {\n  const [token, setToken] = useState<string | null>(null);\n  const [fetchedArticle, setFetchedArticle] = useState<Article | null>(null);\n  const [loading, setLoading] = useState<boolean>(false);\n\n  useEffect(() => {\n    if (typeof window === \"undefined\") return;\n    const storedToken = localStorage.getItem(\"token\");\n    if (storedToken) setToken(storedToken);\n  }, []);\n\n  useEffect(() => {\n    const fetchArticleById = async () => {\n      if (!article?.id || !token) return;\n      setLoading(true);\n      try {\n        const res = await fetch(`/api/article/id/${article.id}`, {\n          method: \"GET\",\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        });\n        if (!res.ok) {\n          toast.error(\"Failed to fetch article\");\n          setLoading(false);\n          return;\n        }\n        const data = await res.json();\n        setFetchedArticle(data);\n        //eslint-disable-next-line @typescript-eslint/no-explicit-any\n      } catch (error: any) {\n        toast.error(error.message || \"Failed to fetch article\");\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchArticleById();\n  }, [article?.id, token]);\n\n  const handleSubmit = async (values: Article) => {\n    if (!token) {\n      toast.error(\"Authentication token missing\");\n      return;\n    }\n    setLoading(true);\n    try {\n      const articleData = {\n        title: values.title,\n        status: values.status,\n        category: values.category,\n        subcategory: values.subcategory || null,\n        date: values.date || null,\n        read_time: values.readTime,\n        content: values.content,\n        description: values.description,\n        is_premium: values.isPremium,\n        caption: values.caption || null,\n        quote: values.quote || null,\n        quote_author: values.quoteAuthor || null,\n        tag: values.tag || null,\n        author: values.author || \"d8a6d106-016d-4faa-9bed-5e223cd6536b\",\n      };\n\n      const formData = new FormData();\n      formData.append(\"article_data\", JSON.stringify(articleData));\n      //eslint-disable-next-line @typescript-eslint/no-explicit-any\n      if (values.image && (values.image as any) instanceof File) {\n        formData.append(\"image\", values.image);\n      }\n\n      const response = await fetch(`/api/article/id/${values.id}`, {\n        method: \"PATCH\",\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n        body: formData,\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        toast.error(error.message || \"Failed to update article\");\n        return;\n      }\n\n      toast.success(\"Article updated successfully\");\n      onClose();\n      //eslint-disable-next-line @typescript-eslint/no-explicit-any\n    } catch (error: any) {\n      toast.error(error.message || \"Failed to update article\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center py-8\">\n        <Loader />\n      </div>\n    );\n  }\n\n  if (!fetchedArticle) {\n    return (\n      <div className=\"flex flex-col items-center justify-center py-8 space-y-4\">\n        <p>Article not found</p>\n        <button\n          onClick={onClose}\n          className=\"px-4 py-2 text-white bg-red-500 rounded-md cursor-pointer\"\n        >\n          Close\n        </button>\n      </div>\n    );\n  }\n\n  return (\n    <ArticleFormBase\n      initialValues={fetchedArticle}\n      onSubmit={handleSubmit}\n      loading={loading}\n      isEditMode={true}\n    />\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 995, "column": 0}, "map": {"version":3,"sources":["file:///home/met/2025%20Projects/Ensight_frontend_2/frontend/src/components/ui/management/article/ViewArticle.tsx"],"sourcesContent":["import React from \"react\";\r\nimport { Badge, Image, Text, Title } from \"@mantine/core\";\r\nimport { Article } from \"@/lib/types\";\r\n\r\nconst statusColors: Record<\"DRAFT\" | \"PUBLISHED\", string> = {\r\n  DRAFT: \"red\",\r\n  PUBLISHED: \"green\",\r\n};\r\n\r\ninterface ViewArticleProps {\r\n  selectedArticle: Article | null;\r\n}\r\n\r\nconst ViewArticle: React.FC<ViewArticleProps> = ({ selectedArticle }) => {\r\n  if (!selectedArticle) {\r\n    return <Text>No article selected.</Text>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      {selectedArticle.image && typeof selectedArticle.image === \"string\" && (\r\n        <div>\r\n          <Title order={4}>Image</Title>\r\n          <Image\r\n            src={selectedArticle.image}\r\n            alt={selectedArticle.title}\r\n            radius=\"md\"\r\n            height={200}\r\n            fit=\"contain\"\r\n            className=\"w-full max-w-md\"\r\n          />\r\n        </div>\r\n      )}\r\n      <div>\r\n        <Title order={4}>Title</Title>\r\n        <Text>{selectedArticle.title}</Text>\r\n      </div>\r\n      <div>\r\n        <Title order={4}>Category</Title>\r\n        <Text>{selectedArticle.category || \"None\"}</Text>\r\n      </div>\r\n      <div>\r\n        <Title order={4}>Subcategory</Title>\r\n        <Text>{selectedArticle.subcategory || \"-\"}</Text>\r\n      </div>\r\n      <div>\r\n        <Title order={4}>Author</Title>\r\n        <Text>{selectedArticle.author}</Text>\r\n      </div>\r\n      <div>\r\n        <Title order={4}>Status</Title>\r\n        <Badge\r\n          color={statusColors[selectedArticle.status as \"DRAFT\" | \"PUBLISHED\"]}\r\n          size=\"sm\"\r\n        >\r\n          {selectedArticle.status}\r\n        </Badge>\r\n      </div>\r\n      <div>\r\n        <Title order={4}>Publication Date</Title>\r\n        <Text>\r\n          {selectedArticle.date\r\n            ? new Date(selectedArticle.date).toLocaleDateString()\r\n            : \"-\"}\r\n        </Text>\r\n      </div>\r\n      <div>\r\n        <Title order={4}>Description</Title>\r\n        <Text>{selectedArticle.description || \"-\"}</Text>\r\n      </div>\r\n      <div>\r\n        <Title order={4}>Content</Title>\r\n        <Text>{selectedArticle.content || \"-\"}</Text>\r\n      </div>\r\n      <div>\r\n        <Title order={4}>Read Time</Title>\r\n        <Text>{selectedArticle.readTime || \"-\"}</Text>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ViewArticle;\r\n"],"names":[],"mappings":";;;;AACA;AAAA;AAAA;AAAA;;;AAGA,MAAM,eAAsD;IAC1D,OAAO;IACP,WAAW;AACb;AAMA,MAAM,cAA0C,CAAC,EAAE,eAAe,EAAE;IAClE,IAAI,CAAC,iBAAiB;QACpB,qBAAO,8OAAC,uKAAA,CAAA,OAAI;sBAAC;;;;;;IACf;IAEA,qBACE,8OAAC;QAAI,WAAU;;YACZ,gBAAgB,KAAK,IAAI,OAAO,gBAAgB,KAAK,KAAK,0BACzD,8OAAC;;kCACC,8OAAC,yKAAA,CAAA,QAAK;wBAAC,OAAO;kCAAG;;;;;;kCACjB,8OAAC,yKAAA,CAAA,QAAK;wBACJ,KAAK,gBAAgB,KAAK;wBAC1B,KAAK,gBAAgB,KAAK;wBAC1B,QAAO;wBACP,QAAQ;wBACR,KAAI;wBACJ,WAAU;;;;;;;;;;;;0BAIhB,8OAAC;;kCACC,8OAAC,yKAAA,CAAA,QAAK;wBAAC,OAAO;kCAAG;;;;;;kCACjB,8OAAC,uKAAA,CAAA,OAAI;kCAAE,gBAAgB,KAAK;;;;;;;;;;;;0BAE9B,8OAAC;;kCACC,8OAAC,yKAAA,CAAA,QAAK;wBAAC,OAAO;kCAAG;;;;;;kCACjB,8OAAC,uKAAA,CAAA,OAAI;kCAAE,gBAAgB,QAAQ,IAAI;;;;;;;;;;;;0BAErC,8OAAC;;kCACC,8OAAC,yKAAA,CAAA,QAAK;wBAAC,OAAO;kCAAG;;;;;;kCACjB,8OAAC,uKAAA,CAAA,OAAI;kCAAE,gBAAgB,WAAW,IAAI;;;;;;;;;;;;0BAExC,8OAAC;;kCACC,8OAAC,yKAAA,CAAA,QAAK;wBAAC,OAAO;kCAAG;;;;;;kCACjB,8OAAC,uKAAA,CAAA,OAAI;kCAAE,gBAAgB,MAAM;;;;;;;;;;;;0BAE/B,8OAAC;;kCACC,8OAAC,yKAAA,CAAA,QAAK;wBAAC,OAAO;kCAAG;;;;;;kCACjB,8OAAC,yKAAA,CAAA,QAAK;wBACJ,OAAO,YAAY,CAAC,gBAAgB,MAAM,CAA0B;wBACpE,MAAK;kCAEJ,gBAAgB,MAAM;;;;;;;;;;;;0BAG3B,8OAAC;;kCACC,8OAAC,yKAAA,CAAA,QAAK;wBAAC,OAAO;kCAAG;;;;;;kCACjB,8OAAC,uKAAA,CAAA,OAAI;kCACF,gBAAgB,IAAI,GACjB,IAAI,KAAK,gBAAgB,IAAI,EAAE,kBAAkB,KACjD;;;;;;;;;;;;0BAGR,8OAAC;;kCACC,8OAAC,yKAAA,CAAA,QAAK;wBAAC,OAAO;kCAAG;;;;;;kCACjB,8OAAC,uKAAA,CAAA,OAAI;kCAAE,gBAAgB,WAAW,IAAI;;;;;;;;;;;;0BAExC,8OAAC;;kCACC,8OAAC,yKAAA,CAAA,QAAK;wBAAC,OAAO;kCAAG;;;;;;kCACjB,8OAAC,uKAAA,CAAA,OAAI;kCAAE,gBAAgB,OAAO,IAAI;;;;;;;;;;;;0BAEpC,8OAAC;;kCACC,8OAAC,yKAAA,CAAA,QAAK;wBAAC,OAAO;kCAAG;;;;;;kCACjB,8OAAC,uKAAA,CAAA,OAAI;kCAAE,gBAAgB,QAAQ,IAAI;;;;;;;;;;;;;;;;;;AAI3C;uCAEe","debugId":null}},
    {"offset": {"line": 1273, "column": 0}, "map": {"version":3,"sources":["file:///home/met/2025%20Projects/Ensight_frontend_2/frontend/src/components/ui/management/article/ArticlesTable.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { Button, TextInput, Select, Group, Modal } from \"@mantine/core\";\nimport { IconPlus, IconSearch, IconRefresh } from \"@tabler/icons-react\";\nimport { Article } from \"@/lib/types\";\nimport ArticlesTableView from \"./ArticlesTableView\";\nimport AddArticleForm from \"./AddArticleForm\";\nimport EditArticleForm from \"./EditArticleForm\";\nimport ViewArticle from \"./ViewArticle\";\nimport toast from \"react-hot-toast\";\n\ninterface ArticlesTableProps {\n  data: Article[];\n}\n\nexport default function ArticlesTable({\n  data: initialData,\n}: ArticlesTableProps) {\n  const [search, setSearch] = useState(\"\");\n  const [filter, setFilter] = useState<string>(\"All\");\n  const [addOpened, setAddOpened] = useState(false);\n  const [editOpened, setEditOpened] = useState(false);\n  const [viewOpened, setViewOpened] = useState(false);\n  const [selectedArticle, setSelectedArticle] = useState<Article | null>(null);\n  const [articles, setArticles] = useState<Article[]>(initialData);\n  const [loading, setLoading] = useState(true);\n  const [token, setToken] = useState<string | null>(null);\n  const [userRole, setUserRole] = useState<string | null>(null);\n\n  useEffect(() => {\n    if (typeof window === \"undefined\") return;\n    const storedToken = localStorage.getItem(\"token\");\n    if (storedToken) setToken(storedToken);\n    \n    const storedUser = localStorage.getItem(\"user\");\n    if (storedUser) {\n      try {\n        const user = JSON.parse(storedUser);\n        setUserRole(user.role || null);\n      } catch {\n        // Ignore parse errors\n      }\n    }\n  }, []);\n\n  const loadArticles = async () => {\n    try {\n      setLoading(true);\n      const response = await fetch(\"/api/article\", {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: token ? `Bearer ${token}` : \"\",\n        },\n      });\n      if (!response.ok) {\n        toast.error(`Failed to fetch articles: ${response.statusText}`);\n        setArticles([]);\n      }\n      const data = await response.json();\n      setArticles(data);\n    } catch (error) {\n      toast.error(\n        error instanceof Error\n          ? error.message\n          : \"Failed to load articles. Please try again later.\"\n      );\n      setArticles([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    if (!token) return;\n    loadArticles();\n  }, [token]);\n\n  const handleRefresh = () => {\n    loadArticles();\n  };\n\n  const handleDelete = async (articleId: string) => {\n    try {\n      const response = await fetch(`/api/article/id/${articleId}`, {\n        method: \"DELETE\",\n        headers: {\n          Authorization: token ? `Bearer ${token}` : \"\",\n        },\n      });\n      if (!response.ok) {\n        const error = await response.json();\n        toast.error(`Failed to delete article: ${error.message}`);\n        return;\n      }\n      toast.success(\"Article deleted successfully\");\n      await loadArticles();\n    } catch (error) {\n      toast.error(\n        error instanceof Error\n          ? error.message\n          : \"Failed to delete article. Please try again later.\"\n      );\n    }\n  };\n\n  const handleApprove = async (articleId: string) => {\n    try {\n      const response = await fetch(`/api/article/id/${articleId}/approve`, {\n        method: \"PATCH\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: token ? `Bearer ${token}` : \"\",\n        },\n      });\n      if (!response.ok) {\n        const error = await response.json();\n        toast.error(`Failed to approve article: ${error.message || error.detail}`);\n        return;\n      }\n      toast.success(\"Article approved successfully\");\n      await loadArticles();\n    } catch (error) {\n      toast.error(\n        error instanceof Error\n          ? error.message\n          : \"Failed to approve article. Please try again later.\"\n      );\n    }\n  };\n\n  const handleView = (article: Article) => {\n    setSelectedArticle(article);\n    setViewOpened(true);\n  };\n\n  const handleEdit = (article: Article) => {\n    setSelectedArticle(article);\n    setEditOpened(true);\n  };\n\n  const filteredData = articles.filter((article) => {\n    const matchesSearch = article.title\n      .toLowerCase()\n      .includes(search.toLowerCase());\n    const articleCategory = article.category || \"None\";\n    const matchesFilter =\n      filter === \"All\" ||\n      articleCategory.toLowerCase() === filter.toLowerCase();\n    return matchesSearch && matchesFilter;\n  });\n\n  return (\n    <div className=\"max-w-full p-4 overflow-x-auto sm:p-6 md:p-8\">\n      <div className=\"flex flex-col gap-4 mb-6 sm:flex-row sm:justify-between sm:items-center\">\n        <Group gap=\"xs\" wrap=\"wrap\">\n          <Button\n            leftSection={<IconPlus size={16} />}\n            variant=\"filled\"\n            color=\"blue\"\n            onClick={() => setAddOpened(true)}\n            size=\"compact-md\"\n            className=\"w-full sm:w-auto\"\n          >\n            Add new\n          </Button>\n          <Button\n            leftSection={<IconRefresh size={16} />}\n            variant=\"outline\"\n            color=\"blue\"\n            onClick={handleRefresh}\n            size=\"compact-md\"\n            className=\"w-full sm:w-auto\"\n          >\n            Refresh\n          </Button>\n        </Group>\n        <Group gap=\"xs\" wrap=\"wrap\">\n          <TextInput\n            placeholder=\"Search...\"\n            value={search}\n            onChange={(event) => setSearch(event.currentTarget.value)}\n            rightSection={<IconSearch size={16} />}\n            size=\"sm\"\n          />\n          <Select\n            placeholder=\"All\"\n            data={[\"All\", \"Tech and Science\", \"Finance\", \"Economy\", \"Business\"]}\n            value={filter}\n            onChange={(value) => setFilter(value || \"All\")}\n            size=\"sm\"\n          />\n        </Group>\n      </div>\n      <ArticlesTableView\n        articles={filteredData}\n        loading={loading}\n        onView={handleView}\n        onEdit={handleEdit}\n        onDelete={handleDelete}\n        onApprove={handleApprove}\n        userRole={userRole || undefined}\n      />\n      <Modal\n        opened={addOpened}\n        onClose={() => setAddOpened(false)}\n        title=\"Add New Article\"\n        size=\"xl\"\n        closeOnEscape={false}\n        closeOnClickOutside={false}\n      >\n        <AddArticleForm\n          onClose={() => {\n            setAddOpened(false);\n            handleRefresh();\n          }}\n        />\n      </Modal>\n      <Modal\n        opened={editOpened}\n        onClose={() => setEditOpened(false)}\n        title=\"Edit Article\"\n        size=\"xl\"\n        closeOnEscape={false}\n        closeOnClickOutside={false}\n      >\n        {selectedArticle && (\n          <EditArticleForm\n            article={selectedArticle}\n            onClose={() => {\n              setEditOpened(false);\n              handleRefresh();\n            }}\n          />\n        )}\n      </Modal>\n      <Modal\n        opened={viewOpened}\n        onClose={() => setViewOpened(false)}\n        title=\"View Article\"\n        size=\"xl\"\n        closeOnEscape={false}\n        closeOnClickOutside={false}\n      >\n        {selectedArticle && <ViewArticle selectedArticle={selectedArticle} />}\n      </Modal>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1597, "column": 0}, "map": {"version":3,"sources":["file:///home/met/2025%20Projects/Ensight_frontend_2/frontend/src/components/ui/management/user/UsersTableView.tsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport { Menu, ActionIcon, Table, Loader, Pagination } from \"@mantine/core\";\r\nimport { IconDots, IconEye, IconPencil, IconTrash } from \"@tabler/icons-react\";\r\n\r\ninterface User {\r\n  id: string;\r\n  firstName: string;\r\n  lastName: string;\r\n  email: string;\r\n  role: string;\r\n}\r\n\r\ninterface UsersTableViewProps {\r\n  users: User[];\r\n  loading: boolean;\r\n  onView: (user: User) => void;\r\n  onEdit: (user: User) => void;\r\n  onDelete: (id: string) => void;\r\n  itemsPerPage?: number;\r\n}\r\n\r\nconst columns = [\r\n  { header: \"First Name\", accessor: \"firstName\" },\r\n  { header: \"Last Name\", accessor: \"lastName\" },\r\n  { header: \"Email\", accessor: \"email\" },\r\n  { header: \"Actions\", accessor: \"actions\" },\r\n];\r\n\r\nexport default function UsersTableView({\r\n  users,\r\n  loading,\r\n  onView,\r\n  onEdit,\r\n  onDelete,\r\n  itemsPerPage = 5,\r\n}: UsersTableViewProps) {\r\n  const [activePage, setPage] = useState(1);\r\n\r\n  const totalPages = Math.ceil(users.length / itemsPerPage);\r\n  const paginatedUsers = users.slice(\r\n    (activePage - 1) * itemsPerPage,\r\n    activePage * itemsPerPage\r\n  );\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center py-8\">\r\n        <Loader />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Table\r\n        highlightOnHover\r\n        verticalSpacing=\"sm\"\r\n        className=\"border border-gray-300\"\r\n      >\r\n        <Table.Thead className=\"text-center text-gray-700 bg-gray-400\">\r\n          <Table.Tr>\r\n            {columns.map((column) => (\r\n              <Table.Th key={column.accessor}>{column.header}</Table.Th>\r\n            ))}\r\n          </Table.Tr>\r\n        </Table.Thead>\r\n        <Table.Tbody>\r\n          {paginatedUsers.map((user) => (\r\n            <Table.Tr key={user.id} className=\"text-left\">\r\n              <Table.Td>{user.firstName}</Table.Td>\r\n              <Table.Td>{user.lastName}</Table.Td>\r\n              <Table.Td>{user.email}</Table.Td>\r\n              <Table.Td>\r\n                <Menu shadow=\"md\" width={200} position=\"bottom-end\">\r\n                  <Menu.Target>\r\n                    <ActionIcon color=\"blue\" title=\"Actions\" size=\"sm\">\r\n                      <IconDots size={14} />\r\n                    </ActionIcon>\r\n                  </Menu.Target>\r\n                  <Menu.Dropdown>\r\n                    <Menu.Item\r\n                      leftSection={<IconEye size={14} />}\r\n                      onClick={() => onView(user)}\r\n                    >\r\n                      View\r\n                    </Menu.Item>\r\n                    <Menu.Item\r\n                      leftSection={<IconPencil size={14} />}\r\n                      onClick={() => onEdit(user)}\r\n                    >\r\n                      Edit\r\n                    </Menu.Item>\r\n                    <Menu.Item\r\n                      leftSection={<IconTrash size={14} />}\r\n                      onClick={() => onDelete(user.id)}\r\n                      color=\"red\"\r\n                    >\r\n                      Delete\r\n                    </Menu.Item>\r\n                  </Menu.Dropdown>\r\n                </Menu>\r\n              </Table.Td>\r\n            </Table.Tr>\r\n          ))}\r\n        </Table.Tbody>\r\n      </Table>\r\n\r\n      {totalPages > 1 && (\r\n        <div className=\"flex justify-end mt-4\">\r\n          <span className=\"mt-2 mr-2 text-xs text-gray-300\">\r\n            Total Users: ({users.length})\r\n          </span>\r\n          <Pagination\r\n            total={totalPages}\r\n            value={activePage}\r\n            onChange={setPage}\r\n            size=\"sm\"\r\n            radius=\"md\"\r\n            withEdges\r\n          />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1859, "column": 0}, "map": {"version":3,"sources":["file:///home/met/2025%20Projects/Ensight_frontend_2/frontend/src/components/ui/management/user/UserFormBase.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useForm } from \"@mantine/form\";\r\nimport { Button, TextInput, Select, Group, Loader, PasswordInput } from \"@mantine/core\";\r\n\r\ninterface User {\r\n  id: string;\r\n  firstName: string;\r\n  lastName: string;\r\n  email: string;\r\n  password?: string;\r\n  role: string;\r\n}\r\n\r\ninterface UserFormBaseProps {\r\n  initialValues: User;\r\n  onSubmit: (values: User) => Promise<void>;\r\n  loading: boolean;\r\n  isEditMode: boolean;\r\n}\r\n\r\nconst roles = [\r\n  { label: \"Admin\", value: \"ADMIN\" },\r\n  { label: \"Editor\", value: \"EDITOR\" },\r\n  { label: \"Writer\", value: \"WRITER\" },\r\n];\r\n\r\nexport default function UserFormBase({\r\n  initialValues,\r\n  onSubmit,\r\n  loading,\r\n  isEditMode,\r\n}: UserFormBaseProps) {\r\n  const form = useForm<User>({\r\n    initialValues,\r\n    validate: {\r\n      firstName: (value) =>\r\n        value.length < 2 ? \"First name must be at least 2 characters\" : null,\r\n      lastName: (value) =>\r\n        value.length < 2 ? \"Last name must be at least 2 characters\" : null,\r\n      email: (value) =>\r\n        !/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(value)\r\n          ? \"Invalid email address\"\r\n          : null,\r\n      password: (value, values) =>\r\n        !isEditMode && (!value || value.length < 6)\r\n          ? \"Password must be at least 6 characters\"\r\n          : null,\r\n      role: (value) => (!value ? \"Role is required\" : null),\r\n    },\r\n  });\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center py-8\">\r\n        <Loader />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={form.onSubmit(onSubmit)} className=\"p-4\">\r\n      <TextInput\r\n        label=\"First Name\"\r\n        placeholder=\"Enter first name\"\r\n        {...form.getInputProps(\"firstName\")}\r\n        mb=\"md\"\r\n      />\r\n      <TextInput\r\n        label=\"Last Name\"\r\n        placeholder=\"Enter last name\"\r\n        {...form.getInputProps(\"lastName\")}\r\n        mb=\"md\"\r\n      />\r\n      <TextInput\r\n        label=\"Email\"\r\n        placeholder=\"Enter email\"\r\n        {...form.getInputProps(\"email\")}\r\n        mb=\"md\"\r\n      />\r\n      {!isEditMode && (\r\n        <PasswordInput\r\n          label=\"Password\"\r\n          placeholder=\"Enter password\"\r\n          {...form.getInputProps(\"password\")}\r\n          mb=\"md\"\r\n          required\r\n        />\r\n      )}\r\n      <Select\r\n        label=\"Role\"\r\n        placeholder=\"Select role\"\r\n        data={roles}\r\n        {...form.getInputProps(\"role\")}\r\n        mb=\"md\"\r\n      />\r\n      <Group justify=\"flex-end\" mt=\"lg\">\r\n        <Button\r\n          type=\"submit\"\r\n          disabled={loading || !form.isDirty()}\r\n          color=\"blue\"\r\n        >\r\n          {isEditMode ? \"Update User\" : \"Create User\"}\r\n        </Button>\r\n      </Group>\r\n    </form>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAHA;;;;AAqBA,MAAM,QAAQ;IACZ;QAAE,OAAO;QAAS,OAAO;IAAQ;IACjC;QAAE,OAAO;QAAU,OAAO;IAAS;IACnC;QAAE,OAAO;QAAU,OAAO;IAAS;CACpC;AAEc,SAAS,aAAa,EACnC,aAAa,EACb,QAAQ,EACR,OAAO,EACP,UAAU,EACQ;IAClB,MAAM,OAAO,CAAA,GAAA,wJAAA,CAAA,UAAO,AAAD,EAAQ;QACzB;QACA,UAAU;YACR,WAAW,CAAC,QACV,MAAM,MAAM,GAAG,IAAI,6CAA6C;YAClE,UAAU,CAAC,QACT,MAAM,MAAM,GAAG,IAAI,4CAA4C;YACjE,OAAO,CAAC,QACN,CAAC,6BAA6B,IAAI,CAAC,SAC/B,0BACA;YACN,UAAU,CAAC,OAAO,SAChB,CAAC,cAAc,CAAC,CAAC,SAAS,MAAM,MAAM,GAAG,CAAC,IACtC,2CACA;YACN,MAAM,CAAC,QAAW,CAAC,QAAQ,qBAAqB;QAClD;IACF;IAEA,IAAI,SAAS;QACX,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC,2KAAA,CAAA,SAAM;;;;;;;;;;IAGb;IAEA,qBACE,8OAAC;QAAK,UAAU,KAAK,QAAQ,CAAC;QAAW,WAAU;;0BACjD,8OAAC,iLAAA,CAAA,YAAS;gBACR,OAAM;gBACN,aAAY;gBACX,GAAG,KAAK,aAAa,CAAC,YAAY;gBACnC,IAAG;;;;;;0BAEL,8OAAC,iLAAA,CAAA,YAAS;gBACR,OAAM;gBACN,aAAY;gBACX,GAAG,KAAK,aAAa,CAAC,WAAW;gBAClC,IAAG;;;;;;0BAEL,8OAAC,iLAAA,CAAA,YAAS;gBACR,OAAM;gBACN,aAAY;gBACX,GAAG,KAAK,aAAa,CAAC,QAAQ;gBAC/B,IAAG;;;;;;YAEJ,CAAC,4BACA,8OAAC,yLAAA,CAAA,gBAAa;gBACZ,OAAM;gBACN,aAAY;gBACX,GAAG,KAAK,aAAa,CAAC,WAAW;gBAClC,IAAG;gBACH,QAAQ;;;;;;0BAGZ,8OAAC,2KAAA,CAAA,SAAM;gBACL,OAAM;gBACN,aAAY;gBACZ,MAAM;gBACL,GAAG,KAAK,aAAa,CAAC,OAAO;gBAC9B,IAAG;;;;;;0BAEL,8OAAC,yKAAA,CAAA,QAAK;gBAAC,SAAQ;gBAAW,IAAG;0BAC3B,cAAA,8OAAC,2KAAA,CAAA,SAAM;oBACL,MAAK;oBACL,UAAU,WAAW,CAAC,KAAK,OAAO;oBAClC,OAAM;8BAEL,aAAa,gBAAgB;;;;;;;;;;;;;;;;;AAKxC","debugId":null}},
    {"offset": {"line": 2000, "column": 0}, "map": {"version":3,"sources":["file:///home/met/2025%20Projects/Ensight_frontend_2/frontend/src/components/ui/management/user/AddUserForm.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport toast from \"react-hot-toast\";\nimport UserFormBase from \"./UserFormBase\";\n\ninterface User {\n  id: string;\n  firstName: string;\n  lastName: string;\n  email: string;\n  role: string;\n}\n\ninterface AddUserFormProps {\n  onClose: () => void;\n}\n\nexport default function AddUserForm({ onClose }: AddUserFormProps) {\n  const [token, setToken] = useState<string | null>(null);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    if (typeof window === \"undefined\") return;\n    const storedToken = localStorage.getItem(\"token\");\n    if (storedToken) setToken(storedToken);\n  }, []);\n\n  const initialValues: User = {\n    id: uuidv4(),\n    firstName: \"\",\n    lastName: \"\",\n    email: \"\",\n    password: \"\",\n    role: \"\",\n  };\n\n  const handleSubmit = async (values: User) => {\n    if (!token) {\n      toast.error(\"Authentication token missing\");\n      return;\n    }\n    setLoading(true);\n    try {\n      if (!values.password || values.password.length < 6) {\n        toast.error(\"Password must be at least 6 characters\");\n        setLoading(false);\n        return;\n      }\n\n      // Backend expects FormData with snake_case field names\n      const formData = new FormData();\n      formData.append(\"first_name\", values.firstName);\n      formData.append(\"last_name\", values.lastName);\n      formData.append(\"email\", values.email);\n      formData.append(\"password\", values.password);\n      formData.append(\"role\", values.role);\n\n      const response = await fetch(\"/api/profile\", {\n        method: \"POST\",\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n        body: formData,\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        toast.error(error.detail || error.message || \"Failed to create user\");\n        return;\n      }\n\n      toast.success(\"User created successfully\");\n      onClose();\n      //eslint-disable-next-line @typescript-eslint/no-explicit-any\n    } catch (error: any) {\n      toast.error(error.message || \"Failed to create user\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <UserFormBase\n      initialValues={initialValues}\n      onSubmit={handleSubmit}\n      loading={loading}\n      isEditMode={false}\n    />\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAmBe,SAAS,YAAY,EAAE,OAAO,EAAoB;IAC/D,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB;IAClD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,wCAAmC;;QACnC,MAAM;IAER,GAAG,EAAE;IAEL,MAAM,gBAAsB;QAC1B,IAAI,CAAA,GAAA,kLAAA,CAAA,KAAM,AAAD;QACT,WAAW;QACX,UAAU;QACV,OAAO;QACP,UAAU;QACV,MAAM;IACR;IAEA,MAAM,eAAe,OAAO;QAC1B,IAAI,CAAC,OAAO;YACV,uJAAA,CAAA,UAAK,CAAC,KAAK,CAAC;YACZ;QACF;QACA,WAAW;QACX,IAAI;YACF,IAAI,CAAC,OAAO,QAAQ,IAAI,OAAO,QAAQ,CAAC,MAAM,GAAG,GAAG;gBAClD,uJAAA,CAAA,UAAK,CAAC,KAAK,CAAC;gBACZ,WAAW;gBACX;YACF;YAEA,uDAAuD;YACvD,MAAM,WAAW,IAAI;YACrB,SAAS,MAAM,CAAC,cAAc,OAAO,SAAS;YAC9C,SAAS,MAAM,CAAC,aAAa,OAAO,QAAQ;YAC5C,SAAS,MAAM,CAAC,SAAS,OAAO,KAAK;YACrC,SAAS,MAAM,CAAC,YAAY,OAAO,QAAQ;YAC3C,SAAS,MAAM,CAAC,QAAQ,OAAO,IAAI;YAEnC,MAAM,WAAW,MAAM,MAAM,gBAAgB;gBAC3C,QAAQ;gBACR,SAAS;oBACP,eAAe,CAAC,OAAO,EAAE,OAAO;gBAClC;gBACA,MAAM;YACR;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,QAAQ,MAAM,SAAS,IAAI;gBACjC,uJAAA,CAAA,UAAK,CAAC,KAAK,CAAC,MAAM,MAAM,IAAI,MAAM,OAAO,IAAI;gBAC7C;YACF;YAEA,uJAAA,CAAA,UAAK,CAAC,OAAO,CAAC;YACd;QACA,6DAA6D;QAC/D,EAAE,OAAO,OAAY;YACnB,uJAAA,CAAA,UAAK,CAAC,KAAK,CAAC,MAAM,OAAO,IAAI;QAC/B,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,8OAAC,8JAAA,CAAA,UAAY;QACX,eAAe;QACf,UAAU;QACV,SAAS;QACT,YAAY;;;;;;AAGlB","debugId":null}},
    {"offset": {"line": 2087, "column": 0}, "map": {"version":3,"sources":["file:///home/met/2025%20Projects/Ensight_frontend_2/frontend/src/components/ui/management/user/EditUserForm.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { Loader } from \"@mantine/core\";\nimport toast from \"react-hot-toast\";\nimport UserFormBase from \"./UserFormBase\";\n\ninterface User {\n  id: string;\n  firstName: string;\n  lastName: string;\n  email: string;\n  role: string;\n}\n\ninterface EditUserFormProps {\n  user: Partial<User>;\n  onClose: () => void;\n}\n\nexport default function EditUserForm({ user, onClose }: EditUserFormProps) {\n  const [token, setToken] = useState<string | null>(null);\n  const [fetchedUser, setFetchedUser] = useState<User | null>(null);\n  const [loading, setLoading] = useState<boolean>(false);\n\n  useEffect(() => {\n    if (typeof window === \"undefined\") return;\n    const storedToken = localStorage.getItem(\"token\");\n    if (storedToken) setToken(storedToken);\n  }, []);\n\n  useEffect(() => {\n    const fetchUserById = async () => {\n      if (!user?.id || !token) return;\n      setLoading(true);\n      try {\n        const res = await fetch(`/api/profile/${user.id}`, {\n          method: \"GET\",\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        });\n        if (!res.ok) {\n          toast.error(\"Failed to fetch user\");\n          setLoading(false);\n          return;\n        }\n        const data = await res.json();\n        setFetchedUser(data);\n        //eslint-disable-next-line @typescript-eslint/no-explicit-any\n      } catch (error: any) {\n        toast.error(error.message || \"Failed to fetch user\");\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchUserById();\n  }, [user?.id, token]);\n\n  const handleSubmit = async (values: User) => {\n    if (!token) {\n      toast.error(\"Authentication token missing\");\n      return;\n    }\n    setLoading(true);\n    try {\n      const userData = {\n        firstName: values.firstName,\n        lastName: values.lastName,\n        email: values.email,\n        role: values.role,\n      };\n\n      const response = await fetch(`/api/profile/${values.id}`, {\n        method: \"PATCH\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`,\n        },\n        body: JSON.stringify(userData),\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        toast.error(error.message || \"Failed to update user\");\n        return;\n      }\n\n      toast.success(\"User updated successfully\");\n      onClose();\n      //eslint-disable-next-line @typescript-eslint/no-explicit-any\n    } catch (error: any) {\n      toast.error(error.message || \"Failed to update user\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center py-8\">\n        <Loader />\n      </div>\n    );\n  }\n\n  if (!fetchedUser) {\n    return (\n      <div className=\"flex flex-col items-center justify-center py-8 space-y-4\">\n        <p>User not found</p>\n        <button\n          onClick={onClose}\n          className=\"px-4 py-2 text-white bg-red-500 rounded-md cursor-pointer\"\n        >\n          Close\n        </button>\n      </div>\n    );\n  }\n\n  return (\n    <UserFormBase\n      initialValues={fetchedUser}\n      onSubmit={handleSubmit}\n      loading={loading}\n      isEditMode={true}\n    />\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAoBe,SAAS,aAAa,EAAE,IAAI,EAAE,OAAO,EAAqB;IACvE,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB;IAClD,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAe;IAC5D,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAW;IAEhD,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,wCAAmC;;QACnC,MAAM;IAER,GAAG,EAAE;IAEL,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,gBAAgB;YACpB,IAAI,CAAC,MAAM,MAAM,CAAC,OAAO;YACzB,WAAW;YACX,IAAI;gBACF,MAAM,MAAM,MAAM,MAAM,CAAC,aAAa,EAAE,KAAK,EAAE,EAAE,EAAE;oBACjD,QAAQ;oBACR,SAAS;wBACP,eAAe,CAAC,OAAO,EAAE,OAAO;oBAClC;gBACF;gBACA,IAAI,CAAC,IAAI,EAAE,EAAE;oBACX,uJAAA,CAAA,UAAK,CAAC,KAAK,CAAC;oBACZ,WAAW;oBACX;gBACF;gBACA,MAAM,OAAO,MAAM,IAAI,IAAI;gBAC3B,eAAe;YACf,6DAA6D;YAC/D,EAAE,OAAO,OAAY;gBACnB,uJAAA,CAAA,UAAK,CAAC,KAAK,CAAC,MAAM,OAAO,IAAI;YAC/B,SAAU;gBACR,WAAW;YACb;QACF;QACA;IACF,GAAG;QAAC,MAAM;QAAI;KAAM;IAEpB,MAAM,eAAe,OAAO;QAC1B,IAAI,CAAC,OAAO;YACV,uJAAA,CAAA,UAAK,CAAC,KAAK,CAAC;YACZ;QACF;QACA,WAAW;QACX,IAAI;YACF,MAAM,WAAW;gBACf,WAAW,OAAO,SAAS;gBAC3B,UAAU,OAAO,QAAQ;gBACzB,OAAO,OAAO,KAAK;gBACnB,MAAM,OAAO,IAAI;YACnB;YAEA,MAAM,WAAW,MAAM,MAAM,CAAC,aAAa,EAAE,OAAO,EAAE,EAAE,EAAE;gBACxD,QAAQ;gBACR,SAAS;oBACP,gBAAgB;oBAChB,eAAe,CAAC,OAAO,EAAE,OAAO;gBAClC;gBACA,MAAM,KAAK,SAAS,CAAC;YACvB;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,QAAQ,MAAM,SAAS,IAAI;gBACjC,uJAAA,CAAA,UAAK,CAAC,KAAK,CAAC,MAAM,OAAO,IAAI;gBAC7B;YACF;YAEA,uJAAA,CAAA,UAAK,CAAC,OAAO,CAAC;YACd;QACA,6DAA6D;QAC/D,EAAE,OAAO,OAAY;YACnB,uJAAA,CAAA,UAAK,CAAC,KAAK,CAAC,MAAM,OAAO,IAAI;QAC/B,SAAU;YACR,WAAW;QACb;IACF;IAEA,IAAI,SAAS;QACX,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC,2KAAA,CAAA,SAAM;;;;;;;;;;IAGb;IAEA,IAAI,CAAC,aAAa;QAChB,qBACE,8OAAC;YAAI,WAAU;;8BACb,8OAAC;8BAAE;;;;;;8BACH,8OAAC;oBACC,SAAS;oBACT,WAAU;8BACX;;;;;;;;;;;;IAKP;IAEA,qBACE,8OAAC,8JAAA,CAAA,UAAY;QACX,eAAe;QACf,UAAU;QACV,SAAS;QACT,YAAY;;;;;;AAGlB","debugId":null}},
    {"offset": {"line": 2233, "column": 0}, "map": {"version":3,"sources":["file:///home/met/2025%20Projects/Ensight_frontend_2/frontend/src/components/ui/management/user/ViewUser.tsx"],"sourcesContent":["import React from \"react\";\r\nimport { Text, Title } from \"@mantine/core\";\r\n\r\ninterface User {\r\n  id: string;\r\n  firstName: string;\r\n  lastName: string;\r\n  email: string;\r\n  role: string;\r\n}\r\n\r\ninterface ViewUserProps {\r\n  selectedUser: User | null;\r\n}\r\n\r\nconst ViewUser: React.FC<ViewUserProps> = ({ selectedUser }) => {\r\n  if (!selectedUser) {\r\n    return <Text>No user selected.</Text>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <div>\r\n        <Title order={4}>First Name</Title>\r\n        <Text>{selectedUser.firstName || \"-\"}</Text>\r\n      </div>\r\n      <div>\r\n        <Title order={4}>Last Name</Title>\r\n        <Text>{selectedUser.lastName || \"-\"}</Text>\r\n      </div>\r\n      <div>\r\n        <Title order={4}>Email</Title>\r\n        <Text>{selectedUser.email || \"-\"}</Text>\r\n      </div>\r\n      <div>\r\n        <Title order={4}>Role</Title>\r\n        <Text>{selectedUser.role || \"-\"}</Text>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ViewUser;\r\n"],"names":[],"mappings":";;;;AACA;AAAA;;;AAcA,MAAM,WAAoC,CAAC,EAAE,YAAY,EAAE;IACzD,IAAI,CAAC,cAAc;QACjB,qBAAO,8OAAC,uKAAA,CAAA,OAAI;sBAAC;;;;;;IACf;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;;kCACC,8OAAC,yKAAA,CAAA,QAAK;wBAAC,OAAO;kCAAG;;;;;;kCACjB,8OAAC,uKAAA,CAAA,OAAI;kCAAE,aAAa,SAAS,IAAI;;;;;;;;;;;;0BAEnC,8OAAC;;kCACC,8OAAC,yKAAA,CAAA,QAAK;wBAAC,OAAO;kCAAG;;;;;;kCACjB,8OAAC,uKAAA,CAAA,OAAI;kCAAE,aAAa,QAAQ,IAAI;;;;;;;;;;;;0BAElC,8OAAC;;kCACC,8OAAC,yKAAA,CAAA,QAAK;wBAAC,OAAO;kCAAG;;;;;;kCACjB,8OAAC,uKAAA,CAAA,OAAI;kCAAE,aAAa,KAAK,IAAI;;;;;;;;;;;;0BAE/B,8OAAC;;kCACC,8OAAC,yKAAA,CAAA,QAAK;wBAAC,OAAO;kCAAG;;;;;;kCACjB,8OAAC,uKAAA,CAAA,OAAI;kCAAE,aAAa,IAAI,IAAI;;;;;;;;;;;;;;;;;;AAIpC;uCAEe","debugId":null}},
    {"offset": {"line": 2360, "column": 0}, "map": {"version":3,"sources":["file:///home/met/2025%20Projects/Ensight_frontend_2/frontend/src/components/ui/management/user/UsersTable.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { Button, TextInput, Select, Group, Modal } from \"@mantine/core\";\nimport { IconPlus, IconSearch, IconRefresh } from \"@tabler/icons-react\";\nimport UsersTableView from \"./UsersTableView\";\nimport AddUserForm from \"./AddUserForm\";\nimport EditUserForm from \"./EditUserForm\";\nimport ViewUser from \"./ViewUser\";\nimport toast from \"react-hot-toast\";\n\ninterface User {\n  id: string;\n  firstName: string;\n  lastName: string;\n  email: string;\n  role: string;\n}\n\ninterface UsersTableProps {\n  data: User[];\n}\n\nexport default function UsersTable({ data: initialData }: UsersTableProps) {\n  const [search, setSearch] = useState(\"\");\n  const [filter, setFilter] = useState<string>(\"All\");\n  const [addOpened, setAddOpened] = useState(false);\n  const [editOpened, setEditOpened] = useState(false);\n  const [viewOpened, setViewOpened] = useState(false);\n  const [selectedUser, setSelectedUser] = useState<User | null>(null);\n  const [users, setUsers] = useState<User[]>(initialData);\n  const [loading, setLoading] = useState(true);\n  const [token, setToken] = useState<string | null>(null);\n\n  useEffect(() => {\n    if (typeof window === \"undefined\") return;\n    const storedToken = localStorage.getItem(\"token\");\n    if (storedToken) setToken(storedToken);\n  }, []);\n\n  const loadUsers = async () => {\n    try {\n      setLoading(true);\n      const response = await fetch(\"/api/profile\", {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: token ? `Bearer ${token}` : \"\",\n        },\n      });\n      if (!response.ok) {\n        toast.error(`Failed to fetch users: ${response.statusText}`);\n        setUsers([]);\n      }\n      // const data = await response.json();\n      // setUsers(data);\n\n      const data = await response.json();\n      setUsers(Array.isArray(data) ? data : data.users || []);\n\n    } catch (error) {\n      toast.error(\n        error instanceof Error\n          ? error.message\n          : \"Failed to load users. Please try again later.\"\n      );\n      setUsers([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    if (!token) return;\n    loadUsers();\n  }, [token]);\n\n  const handleRefresh = () => {\n    loadUsers();\n  };\n\n  const handleDelete = async (userId: string) => {\n    try {\n      const response = await fetch(`/api/profile/${userId}`, {\n        method: \"DELETE\",\n        headers: {\n          Authorization: token ? `Bearer ${token}` : \"\",\n        },\n      });\n      if (!response.ok) {\n        const error = await response.json();\n        toast.error(error.message || `HTTP error! status: ${response.status}`);\n        return;\n      }\n      await loadUsers();\n    } catch (error) {\n      toast.error(\n        error instanceof Error\n          ? error.message\n          : \"Failed to delete user. Please try again later.\"\n      );\n    }\n  };\n\n  const handleView = (user: User) => {\n    setSelectedUser(user);\n    setViewOpened(true);\n  };\n\n  const handleEdit = (user: User) => {\n    setSelectedUser(user);\n    setEditOpened(true);\n  };\n\n  const filteredData = users.filter((user) => {\n    const matchesSearch =\n      user.firstName.toLowerCase().includes(search.toLowerCase()) ||\n      user.lastName.toLowerCase().includes(search.toLowerCase()) ||\n      user.email.toLowerCase().includes(search.toLowerCase());\n    const matchesFilter =\n      filter === \"All\" || user.role.toLowerCase() === filter.toLowerCase();\n    return matchesSearch && matchesFilter;\n  });\n\n  return (\n    <div className=\"max-w-full p-4 overflow-x-auto sm:p-6 md:p-8\">\n      <div className=\"flex flex-col gap-4 mb-6 sm:flex-row sm:justify-between sm:items-center\">\n        <Group gap=\"xs\" wrap=\"wrap\">\n          <Button\n            leftSection={<IconPlus size={16} />}\n            variant=\"filled\"\n            color=\"blue\"\n            onClick={() => setAddOpened(true)}\n            size=\"compact-md\"\n            className=\"w-full sm:w-auto\"\n          >\n            Add new\n          </Button>\n          <Button\n            leftSection={<IconRefresh size={16} />}\n            variant=\"outline\"\n            color=\"blue\"\n            onClick={handleRefresh}\n            size=\"compact-md\"\n            className=\"w-full sm:w-auto\"\n          >\n            Refresh\n          </Button>\n        </Group>\n        <Group gap=\"xs\" wrap=\"wrap\">\n          <TextInput\n            placeholder=\"Search...\"\n            value={search}\n            onChange={(event) => setSearch(event.currentTarget.value)}\n            rightSection={<IconSearch size={16} />}\n            size=\"sm\"\n          />\n          <Select\n            placeholder=\"All\"\n            data={[\"All\", \"Admin\", \"User\", \"Editor\"]}\n            value={filter}\n            onChange={(value) => setFilter(value || \"All\")}\n            size=\"sm\"\n          />\n        </Group>\n      </div>\n      <UsersTableView\n        users={filteredData}\n        loading={loading}\n        onView={handleView}\n        onEdit={handleEdit}\n        onDelete={handleDelete}\n      />\n      <Modal\n        opened={addOpened}\n        onClose={() => setAddOpened(false)}\n        title=\"Add New User\"\n        size=\"xl\"\n        closeOnEscape={false}\n        closeOnClickOutside={false}\n      >\n        <AddUserForm\n          onClose={() => {\n            setAddOpened(false);\n            handleRefresh();\n          }}\n        />\n      </Modal>\n      <Modal\n        opened={editOpened}\n        onClose={() => setEditOpened(false)}\n        title=\"Edit User\"\n        size=\"xl\"\n        closeOnEscape={false}\n        closeOnClickOutside={false}\n      >\n        {selectedUser && (\n          <EditUserForm\n            user={selectedUser}\n            onClose={() => {\n              setEditOpened(false);\n              handleRefresh();\n            }}\n          />\n        )}\n      </Modal>\n      <Modal\n        opened={viewOpened}\n        onClose={() => setViewOpened(false)}\n        title=\"View User\"\n        size=\"xl\"\n        closeOnEscape={false}\n        closeOnClickOutside={false}\n      >\n        {selectedUser && <ViewUser selectedUser={selectedUser} />}\n      </Modal>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AATA;;;;;;;;;;AAuBe,SAAS,WAAW,EAAE,MAAM,WAAW,EAAmB;IACvE,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACrC,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAU;IAC7C,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC7C,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC7C,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAe;IAC9D,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAU;IAC3C,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB;IAElD,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,wCAAmC;;QACnC,MAAM;IAER,GAAG,EAAE;IAEL,MAAM,YAAY;QAChB,IAAI;YACF,WAAW;YACX,MAAM,WAAW,MAAM,MAAM,gBAAgB;gBAC3C,QAAQ;gBACR,SAAS;oBACP,gBAAgB;oBAChB,eAAe,QAAQ,CAAC,OAAO,EAAE,OAAO,GAAG;gBAC7C;YACF;YACA,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,uJAAA,CAAA,UAAK,CAAC,KAAK,CAAC,CAAC,uBAAuB,EAAE,SAAS,UAAU,EAAE;gBAC3D,SAAS,EAAE;YACb;YACA,sCAAsC;YACtC,kBAAkB;YAElB,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,SAAS,MAAM,OAAO,CAAC,QAAQ,OAAO,KAAK,KAAK,IAAI,EAAE;QAExD,EAAE,OAAO,OAAO;YACd,uJAAA,CAAA,UAAK,CAAC,KAAK,CACT,iBAAiB,QACb,MAAM,OAAO,GACb;YAEN,SAAS,EAAE;QACb,SAAU;YACR,WAAW;QACb;IACF;IAEA,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,CAAC,OAAO;QACZ;IACF,GAAG;QAAC;KAAM;IAEV,MAAM,gBAAgB;QACpB;IACF;IAEA,MAAM,eAAe,OAAO;QAC1B,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,CAAC,aAAa,EAAE,QAAQ,EAAE;gBACrD,QAAQ;gBACR,SAAS;oBACP,eAAe,QAAQ,CAAC,OAAO,EAAE,OAAO,GAAG;gBAC7C;YACF;YACA,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,QAAQ,MAAM,SAAS,IAAI;gBACjC,uJAAA,CAAA,UAAK,CAAC,KAAK,CAAC,MAAM,OAAO,IAAI,CAAC,oBAAoB,EAAE,SAAS,MAAM,EAAE;gBACrE;YACF;YACA,MAAM;QACR,EAAE,OAAO,OAAO;YACd,uJAAA,CAAA,UAAK,CAAC,KAAK,CACT,iBAAiB,QACb,MAAM,OAAO,GACb;QAER;IACF;IAEA,MAAM,aAAa,CAAC;QAClB,gBAAgB;QAChB,cAAc;IAChB;IAEA,MAAM,aAAa,CAAC;QAClB,gBAAgB;QAChB,cAAc;IAChB;IAEA,MAAM,eAAe,MAAM,MAAM,CAAC,CAAC;QACjC,MAAM,gBACJ,KAAK,SAAS,CAAC,WAAW,GAAG,QAAQ,CAAC,OAAO,WAAW,OACxD,KAAK,QAAQ,CAAC,WAAW,GAAG,QAAQ,CAAC,OAAO,WAAW,OACvD,KAAK,KAAK,CAAC,WAAW,GAAG,QAAQ,CAAC,OAAO,WAAW;QACtD,MAAM,gBACJ,WAAW,SAAS,KAAK,IAAI,CAAC,WAAW,OAAO,OAAO,WAAW;QACpE,OAAO,iBAAiB;IAC1B;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,yKAAA,CAAA,QAAK;wBAAC,KAAI;wBAAK,MAAK;;0CACnB,8OAAC,2KAAA,CAAA,SAAM;gCACL,2BAAa,8OAAC,sNAAA,CAAA,WAAQ;oCAAC,MAAM;;;;;;gCAC7B,SAAQ;gCACR,OAAM;gCACN,SAAS,IAAM,aAAa;gCAC5B,MAAK;gCACL,WAAU;0CACX;;;;;;0CAGD,8OAAC,2KAAA,CAAA,SAAM;gCACL,2BAAa,8OAAC,4NAAA,CAAA,cAAW;oCAAC,MAAM;;;;;;gCAChC,SAAQ;gCACR,OAAM;gCACN,SAAS;gCACT,MAAK;gCACL,WAAU;0CACX;;;;;;;;;;;;kCAIH,8OAAC,yKAAA,CAAA,QAAK;wBAAC,KAAI;wBAAK,MAAK;;0CACnB,8OAAC,iLAAA,CAAA,YAAS;gCACR,aAAY;gCACZ,OAAO;gCACP,UAAU,CAAC,QAAU,UAAU,MAAM,aAAa,CAAC,KAAK;gCACxD,4BAAc,8OAAC,0NAAA,CAAA,aAAU;oCAAC,MAAM;;;;;;gCAChC,MAAK;;;;;;0CAEP,8OAAC,2KAAA,CAAA,SAAM;gCACL,aAAY;gCACZ,MAAM;oCAAC;oCAAO;oCAAS;oCAAQ;iCAAS;gCACxC,OAAO;gCACP,UAAU,CAAC,QAAU,UAAU,SAAS;gCACxC,MAAK;;;;;;;;;;;;;;;;;;0BAIX,8OAAC,gKAAA,CAAA,UAAc;gBACb,OAAO;gBACP,SAAS;gBACT,QAAQ;gBACR,QAAQ;gBACR,UAAU;;;;;;0BAEZ,8OAAC,yKAAA,CAAA,QAAK;gBACJ,QAAQ;gBACR,SAAS,IAAM,aAAa;gBAC5B,OAAM;gBACN,MAAK;gBACL,eAAe;gBACf,qBAAqB;0BAErB,cAAA,8OAAC,6JAAA,CAAA,UAAW;oBACV,SAAS;wBACP,aAAa;wBACb;oBACF;;;;;;;;;;;0BAGJ,8OAAC,yKAAA,CAAA,QAAK;gBACJ,QAAQ;gBACR,SAAS,IAAM,cAAc;gBAC7B,OAAM;gBACN,MAAK;gBACL,eAAe;gBACf,qBAAqB;0BAEpB,8BACC,8OAAC,8JAAA,CAAA,UAAY;oBACX,MAAM;oBACN,SAAS;wBACP,cAAc;wBACd;oBACF;;;;;;;;;;;0BAIN,8OAAC,yKAAA,CAAA,QAAK;gBACJ,QAAQ;gBACR,SAAS,IAAM,cAAc;gBAC7B,OAAM;gBACN,MAAK;gBACL,eAAe;gBACf,qBAAqB;0BAEpB,8BAAgB,8OAAC,0JAAA,CAAA,UAAQ;oBAAC,cAAc;;;;;;;;;;;;;;;;;AAIjD","debugId":null}},
    {"offset": {"line": 2659, "column": 0}, "map": {"version":3,"sources":["file:///home/met/2025%20Projects/Ensight_frontend_2/frontend/src/components/ui/management/resources/ResourceTableView.tsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport { Badge, Menu, ActionIcon, Table, Loader, Pagination } from \"@mantine/core\";\r\nimport { IconDots, IconEye, IconPencil, IconTrash } from \"@tabler/icons-react\";\r\n\r\ninterface Resource {\r\n  id: string;\r\n  title: string;\r\n  description: string;\r\n  category: \"Featured Insight\" | \"Our Latest Reports\" | \"Data & Ensights\" | \"Date Hub & Archive\";\r\n}\r\n\r\ninterface ResourcesTableViewProps {\r\n  resources: Resource[];\r\n  loading: boolean;\r\n  onView: (resource: Resource) => void;\r\n  onEdit: (resource: Resource) => void;\r\n  onDelete: (id: string) => void;\r\n  itemsPerPage?: number;\r\n}\r\n\r\nconst categoryColors: Record<Resource[\"category\"], string> = {\r\n  \"Featured Insight\": \"blue\",\r\n  \"Our Latest Reports\": \"green\",\r\n  \"Data & Ensights\": \"orange\",\r\n  \"Date Hub & Archive\": \"purple\",\r\n};\r\n\r\nconst columns = [\r\n  { header: \"Title\", accessor: \"title\" },\r\n  { header: \"Description\", accessor: \"description\" },\r\n  { header: \"Category\", accessor: \"category\" },\r\n  { header: \"Actions\", accessor: \"actions\" },\r\n];\r\n\r\nexport default function ResourcesTableView({\r\n  resources,\r\n  loading,\r\n  onView,\r\n  onEdit,\r\n  onDelete,\r\n  itemsPerPage = 5,\r\n}: ResourcesTableViewProps) {\r\n  const [activePage, setPage] = useState(1);\r\n\r\n  const totalPages = Math.ceil(resources.length / itemsPerPage);\r\n  const paginatedResources = resources.slice(\r\n    (activePage - 1) * itemsPerPage,\r\n    activePage * itemsPerPage\r\n  );\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center py-8\">\r\n        <Loader />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Table\r\n        highlightOnHover\r\n        verticalSpacing=\"sm\"\r\n        className=\"border border-gray-300\"\r\n      >\r\n        <Table.Thead className=\"text-center text-gray-700 bg-gray-400\">\r\n          <Table.Tr>\r\n            {columns.map((column) => (\r\n              <Table.Th key={column.accessor}>{column.header}</Table.Th>\r\n            ))}\r\n          </Table.Tr>\r\n        </Table.Thead>\r\n        <Table.Tbody>\r\n          {paginatedResources.map((resource) => (\r\n            <Table.Tr key={resource.id} className=\"text-left\">\r\n              <Table.Td>{resource.title}</Table.Td>\r\n              <Table.Td>{resource.description || \"-\"}</Table.Td>\r\n              <Table.Td>\r\n                <Badge color={categoryColors[resource.category]} size=\"sm\">\r\n                  {resource.category}\r\n                </Badge>\r\n              </Table.Td>\r\n              <Table.Td>\r\n                <Menu shadow=\"md\" width={200} position=\"bottom-end\">\r\n                  <Menu.Target>\r\n                    <ActionIcon color=\"blue\" title=\"Actions\" size=\"sm\">\r\n                      <IconDots size={14} />\r\n                    </ActionIcon>\r\n                  </Menu.Target>\r\n                  <Menu.Dropdown>\r\n                    <Menu.Item\r\n                      leftSection={<IconEye size={14} />}\r\n                      onClick={() => onView(resource)}\r\n                    >\r\n                      View\r\n                    </Menu.Item>\r\n                    <Menu.Item\r\n                      leftSection={<IconPencil size={14} />}\r\n                      onClick={() => onEdit(resource)}\r\n                    >\r\n                      Edit\r\n                    </Menu.Item>\r\n                    <Menu.Item\r\n                      leftSection={<IconTrash size={14} />}\r\n                      onClick={() => onDelete(resource.id)}\r\n                      color=\"red\"\r\n                    >\r\n                      Delete\r\n                    </Menu.Item>\r\n                  </Menu.Dropdown>\r\n                </Menu>\r\n              </Table.Td>\r\n            </Table.Tr>\r\n          ))}\r\n        </Table.Tbody>\r\n      </Table>\r\n\r\n      {totalPages > 1 && (\r\n        <div className=\"flex justify-end mt-4\">\r\n          <span className=\"mt-2 mr-2 text-xs text-gray-300\">\r\n            Total Resources: ({resources.length})\r\n          </span>\r\n          <Pagination\r\n            total={totalPages}\r\n            value={activePage}\r\n            onChange={setPage}\r\n            size=\"sm\"\r\n            radius=\"md\"\r\n            withEdges\r\n          />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2936, "column": 0}, "map": {"version":3,"sources":["file:///home/met/2025%20Projects/Ensight_frontend_2/frontend/src/components/ui/management/resources/ResourceFormBase.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useForm } from \"@mantine/form\";\r\nimport {\r\n  Button,\r\n  TextInput,\r\n  Textarea,\r\n  Select,\r\n  Group,\r\n  Loader,\r\n} from \"@mantine/core\";\r\n\r\ninterface Resource {\r\n  id: string;\r\n  title: string;\r\n  description: string;\r\n  category:\r\n    | \"Featured Insight\"\r\n    | \"Our Latest Reports\"\r\n    | \"Data & Ensights\"\r\n    | \"Date Hub & Archive\";\r\n}\r\n\r\ninterface ResourceFormBaseProps {\r\n  initialValues: Resource;\r\n  onSubmit: (values: Resource) => Promise<void>;\r\n  loading: boolean;\r\n  isEditMode: boolean;\r\n}\r\n\r\nconst categories = [\r\n  { label: \"Featured Insight\", value: \"Featured Insight\" },\r\n  { label: \"Our Latest Reports\", value: \"Our Latest Reports\" },\r\n  { label: \"Data & Ensights\", value: \"Data & Ensights\" },\r\n  { label: \"Date Hub & Archive\", value: \"Date Hub & Archive\" },\r\n];\r\n\r\nexport default function ResourceFormBase({\r\n  initialValues,\r\n  onSubmit,\r\n  loading,\r\n  isEditMode,\r\n}: ResourceFormBaseProps) {\r\n  const form = useForm<Resource>({\r\n    initialValues,\r\n    validate: {\r\n      title: (value) =>\r\n        value.length < 3 ? \"Title must be at least 3 characters\" : null,\r\n      description: (value) =>\r\n        value.length < 10 ? \"Description must be at least 10 characters\" : null,\r\n      category: (value) => (!value ? \"Category is required\" : null),\r\n    },\r\n  });\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center py-8\">\r\n        <Loader />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={form.onSubmit(onSubmit)} className=\"p-4\">\r\n      <TextInput\r\n        label=\"Title\"\r\n        placeholder=\"Enter title\"\r\n        {...form.getInputProps(\"title\")}\r\n        mb=\"md\"\r\n      />\r\n      <Textarea\r\n        label=\"Description\"\r\n        placeholder=\"Enter description\"\r\n        minRows={4}\r\n        {...form.getInputProps(\"description\")}\r\n        mb=\"md\"\r\n      />\r\n      <Select\r\n        label=\"Category\"\r\n        placeholder=\"Select category\"\r\n        data={categories}\r\n        {...form.getInputProps(\"category\")}\r\n        mb=\"md\"\r\n      />\r\n      <Group justify=\"flex-end\" mt=\"lg\">\r\n        <Button\r\n          type=\"submit\"\r\n          disabled={loading || !form.isDirty()}\r\n          color=\"blue\"\r\n        >\r\n          {isEditMode ? \"Update Resource\" : \"Create Resource\"}\r\n        </Button>\r\n      </Group>\r\n    </form>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAHA;;;;AA8BA,MAAM,aAAa;IACjB;QAAE,OAAO;QAAoB,OAAO;IAAmB;IACvD;QAAE,OAAO;QAAsB,OAAO;IAAqB;IAC3D;QAAE,OAAO;QAAmB,OAAO;IAAkB;IACrD;QAAE,OAAO;QAAsB,OAAO;IAAqB;CAC5D;AAEc,SAAS,iBAAiB,EACvC,aAAa,EACb,QAAQ,EACR,OAAO,EACP,UAAU,EACY;IACtB,MAAM,OAAO,CAAA,GAAA,wJAAA,CAAA,UAAO,AAAD,EAAY;QAC7B;QACA,UAAU;YACR,OAAO,CAAC,QACN,MAAM,MAAM,GAAG,IAAI,wCAAwC;YAC7D,aAAa,CAAC,QACZ,MAAM,MAAM,GAAG,KAAK,+CAA+C;YACrE,UAAU,CAAC,QAAW,CAAC,QAAQ,yBAAyB;QAC1D;IACF;IAEA,IAAI,SAAS;QACX,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC,2KAAA,CAAA,SAAM;;;;;;;;;;IAGb;IAEA,qBACE,8OAAC;QAAK,UAAU,KAAK,QAAQ,CAAC;QAAW,WAAU;;0BACjD,8OAAC,iLAAA,CAAA,YAAS;gBACR,OAAM;gBACN,aAAY;gBACX,GAAG,KAAK,aAAa,CAAC,QAAQ;gBAC/B,IAAG;;;;;;0BAEL,8OAAC,+KAAA,CAAA,WAAQ;gBACP,OAAM;gBACN,aAAY;gBACZ,SAAS;gBACR,GAAG,KAAK,aAAa,CAAC,cAAc;gBACrC,IAAG;;;;;;0BAEL,8OAAC,2KAAA,CAAA,SAAM;gBACL,OAAM;gBACN,aAAY;gBACZ,MAAM;gBACL,GAAG,KAAK,aAAa,CAAC,WAAW;gBAClC,IAAG;;;;;;0BAEL,8OAAC,yKAAA,CAAA,QAAK;gBAAC,SAAQ;gBAAW,IAAG;0BAC3B,cAAA,8OAAC,2KAAA,CAAA,SAAM;oBACL,MAAK;oBACL,UAAU,WAAW,CAAC,KAAK,OAAO;oBAClC,OAAM;8BAEL,aAAa,oBAAoB;;;;;;;;;;;;;;;;;AAK5C","debugId":null}},
    {"offset": {"line": 3059, "column": 0}, "map": {"version":3,"sources":["file:///home/met/2025%20Projects/Ensight_frontend_2/frontend/src/components/ui/management/resources/AddResourceForm.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport toast from \"react-hot-toast\";\nimport ResourceFormBase from \"./ResourceFormBase\";\n\ninterface Resource {\n  id: string;\n  title: string;\n  description: string;\n  category:\n    | \"Featured Insight\"\n    | \"Our Latest Reports\"\n    | \"Data & Ensights\"\n    | \"Date Hub & Archive\";\n}\n\ninterface AddResourceFormProps {\n  onClose: () => void;\n}\n\nexport default function AddResourceForm({ onClose }: AddResourceFormProps) {\n  const [token, setToken] = useState<string | null>(null);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    if (typeof window === \"undefined\") return;\n    const storedToken = localStorage.getItem(\"token\");\n    if (storedToken) setToken(storedToken);\n  }, []);\n\n  const initialValues: Resource = {\n    id: uuidv4(),\n    title: \"\",\n    description: \"\",\n    category: \"Featured Insight\",\n  };\n\n  const handleSubmit = async (values: Resource) => {\n    if (!token) {\n      toast.error(\"Authentication token missing\");\n      return;\n    }\n    setLoading(true);\n    try {\n      const formData = new FormData();\n      formData.append(\"title\", values.title);\n      formData.append(\"description\", values.description);\n      // Backend expects featured_insight_id, but form doesn't have it\n      // Using empty string for now - this should be updated when form is enhanced\n      formData.append(\"featured_insight_id\", \"\");\n      formData.append(\"report_ids\", \"\");\n      formData.append(\"data_insight_ids\", \"\");\n      formData.append(\"event_ids\", \"\");\n\n      const response = await fetch(\"/api/resources\", {\n        method: \"POST\",\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n        body: formData,\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        toast.error(error.message || \"Failed to create resource\");\n        return;\n      }\n\n      toast.success(\"Resource created successfully\");\n      onClose();\n      //eslint-disable-next-line\n    } catch (error: any) {\n      toast.error(error.message || \"Failed to create resource\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <ResourceFormBase\n      initialValues={initialValues}\n      onSubmit={handleSubmit}\n      loading={loading}\n      isEditMode={false}\n    />\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAsBe,SAAS,gBAAgB,EAAE,OAAO,EAAwB;IACvE,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB;IAClD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,wCAAmC;;QACnC,MAAM;IAER,GAAG,EAAE;IAEL,MAAM,gBAA0B;QAC9B,IAAI,CAAA,GAAA,kLAAA,CAAA,KAAM,AAAD;QACT,OAAO;QACP,aAAa;QACb,UAAU;IACZ;IAEA,MAAM,eAAe,OAAO;QAC1B,IAAI,CAAC,OAAO;YACV,uJAAA,CAAA,UAAK,CAAC,KAAK,CAAC;YACZ;QACF;QACA,WAAW;QACX,IAAI;YACF,MAAM,WAAW,IAAI;YACrB,SAAS,MAAM,CAAC,SAAS,OAAO,KAAK;YACrC,SAAS,MAAM,CAAC,eAAe,OAAO,WAAW;YACjD,gEAAgE;YAChE,4EAA4E;YAC5E,SAAS,MAAM,CAAC,uBAAuB;YACvC,SAAS,MAAM,CAAC,cAAc;YAC9B,SAAS,MAAM,CAAC,oBAAoB;YACpC,SAAS,MAAM,CAAC,aAAa;YAE7B,MAAM,WAAW,MAAM,MAAM,kBAAkB;gBAC7C,QAAQ;gBACR,SAAS;oBACP,eAAe,CAAC,OAAO,EAAE,OAAO;gBAClC;gBACA,MAAM;YACR;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,QAAQ,MAAM,SAAS,IAAI;gBACjC,uJAAA,CAAA,UAAK,CAAC,KAAK,CAAC,MAAM,OAAO,IAAI;gBAC7B;YACF;YAEA,uJAAA,CAAA,UAAK,CAAC,OAAO,CAAC;YACd;QACA,0BAA0B;QAC5B,EAAE,OAAO,OAAY;YACnB,uJAAA,CAAA,UAAK,CAAC,KAAK,CAAC,MAAM,OAAO,IAAI;QAC/B,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,8OAAC,uKAAA,CAAA,UAAgB;QACf,eAAe;QACf,UAAU;QACV,SAAS;QACT,YAAY;;;;;;AAGlB","debugId":null}},
    {"offset": {"line": 3141, "column": 0}, "map": {"version":3,"sources":["file:///home/met/2025%20Projects/Ensight_frontend_2/frontend/src/components/ui/management/resources/EditResourceForm.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { Loader } from \"@mantine/core\";\nimport toast from \"react-hot-toast\";\nimport ResourceFormBase from \"./ResourceFormBase\";\n\ninterface Resource {\n  id: string;\n  title: string;\n  description: string;\n  category:\n    | \"Featured Insight\"\n    | \"Our Latest Reports\"\n    | \"Data & Ensights\"\n    | \"Date Hub & Archive\";\n}\n\ninterface EditResourceFormProps {\n  resource: Partial<Resource>;\n  onClose: () => void;\n}\n\nexport default function EditResourceForm({\n  resource,\n  onClose,\n}: EditResourceFormProps) {\n  const [token, setToken] = useState<string | null>(null);\n  const [fetchedResource, setFetchedResource] = useState<Resource | null>(null);\n  const [loading, setLoading] = useState<boolean>(false);\n\n  useEffect(() => {\n    if (typeof window === \"undefined\") return;\n    const storedToken = localStorage.getItem(\"token\");\n    if (storedToken) setToken(storedToken);\n  }, []);\n\n  useEffect(() => {\n    const fetchResourceById = async () => {\n      if (!resource?.id || !token) return;\n      setLoading(true);\n      try {\n        const res = await fetch(`/api/resources/${resource.id}`, {\n          method: \"GET\",\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        });\n        if (!res.ok) {\n          toast.error(\"Failed to fetch resource\");\n          setLoading(false);\n          return;\n        }\n        const data = await res.json();\n        setFetchedResource(data);\n        //eslint-disable-next-line @typescript-eslint/no-explicit-any\n      } catch (error: any) {\n        toast.error(error.message || \"Failed to fetch resource\");\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchResourceById();\n  }, [resource?.id, token]);\n\n  const handleSubmit = async (values: Resource) => {\n    if (!token) {\n      toast.error(\"Authentication token missing\");\n      return;\n    }\n    setLoading(true);\n    try {\n      const formData = new FormData();\n      if (values.title) formData.append(\"title\", values.title);\n      if (values.description) formData.append(\"description\", values.description);\n      // Backend expects these fields for PATCH - using empty strings if not provided\n      // Note: Form may need enhancement to include these fields\n      formData.append(\"featured_insight_id\", \"\");\n      formData.append(\"report_ids\", \"\");\n      formData.append(\"data_insight_ids\", \"\");\n      formData.append(\"event_ids\", \"\");\n\n      const response = await fetch(\"/api/resources\", {\n        method: \"PATCH\",\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n        body: formData,\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        toast.error(error.message || \"Failed to update resource\");\n        return;\n      }\n\n      toast.success(\"Resource updated successfully\");\n      onClose();\n      //eslint-disable-next-line\n    } catch (error: any) {\n      toast.error(error.message || \"Failed to update resource\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center py-8\">\n        <Loader />\n      </div>\n    );\n  }\n\n  if (!fetchedResource) {\n    return (\n      <div className=\"flex flex-col items-center justify-center py-8 space-y-4\">\n        <p>Resource not found</p>\n        <button\n          onClick={onClose}\n          className=\"px-4 py-2 text-white bg-red-500 rounded-md cursor-pointer\"\n        >\n          Close\n        </button>\n      </div>\n    );\n  }\n\n  return (\n    <ResourceFormBase\n      initialValues={fetchedResource}\n      onSubmit={handleSubmit}\n      loading={loading}\n      isEditMode={true}\n    />\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAuBe,SAAS,iBAAiB,EACvC,QAAQ,EACR,OAAO,EACe;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB;IAClD,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAmB;IACxE,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAW;IAEhD,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,wCAAmC;;QACnC,MAAM;IAER,GAAG,EAAE;IAEL,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,oBAAoB;YACxB,IAAI,CAAC,UAAU,MAAM,CAAC,OAAO;YAC7B,WAAW;YACX,IAAI;gBACF,MAAM,MAAM,MAAM,MAAM,CAAC,eAAe,EAAE,SAAS,EAAE,EAAE,EAAE;oBACvD,QAAQ;oBACR,SAAS;wBACP,eAAe,CAAC,OAAO,EAAE,OAAO;oBAClC;gBACF;gBACA,IAAI,CAAC,IAAI,EAAE,EAAE;oBACX,uJAAA,CAAA,UAAK,CAAC,KAAK,CAAC;oBACZ,WAAW;oBACX;gBACF;gBACA,MAAM,OAAO,MAAM,IAAI,IAAI;gBAC3B,mBAAmB;YACnB,6DAA6D;YAC/D,EAAE,OAAO,OAAY;gBACnB,uJAAA,CAAA,UAAK,CAAC,KAAK,CAAC,MAAM,OAAO,IAAI;YAC/B,SAAU;gBACR,WAAW;YACb;QACF;QACA;IACF,GAAG;QAAC,UAAU;QAAI;KAAM;IAExB,MAAM,eAAe,OAAO;QAC1B,IAAI,CAAC,OAAO;YACV,uJAAA,CAAA,UAAK,CAAC,KAAK,CAAC;YACZ;QACF;QACA,WAAW;QACX,IAAI;YACF,MAAM,WAAW,IAAI;YACrB,IAAI,OAAO,KAAK,EAAE,SAAS,MAAM,CAAC,SAAS,OAAO,KAAK;YACvD,IAAI,OAAO,WAAW,EAAE,SAAS,MAAM,CAAC,eAAe,OAAO,WAAW;YACzE,+EAA+E;YAC/E,0DAA0D;YAC1D,SAAS,MAAM,CAAC,uBAAuB;YACvC,SAAS,MAAM,CAAC,cAAc;YAC9B,SAAS,MAAM,CAAC,oBAAoB;YACpC,SAAS,MAAM,CAAC,aAAa;YAE7B,MAAM,WAAW,MAAM,MAAM,kBAAkB;gBAC7C,QAAQ;gBACR,SAAS;oBACP,eAAe,CAAC,OAAO,EAAE,OAAO;gBAClC;gBACA,MAAM;YACR;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,QAAQ,MAAM,SAAS,IAAI;gBACjC,uJAAA,CAAA,UAAK,CAAC,KAAK,CAAC,MAAM,OAAO,IAAI;gBAC7B;YACF;YAEA,uJAAA,CAAA,UAAK,CAAC,OAAO,CAAC;YACd;QACA,0BAA0B;QAC5B,EAAE,OAAO,OAAY;YACnB,uJAAA,CAAA,UAAK,CAAC,KAAK,CAAC,MAAM,OAAO,IAAI;QAC/B,SAAU;YACR,WAAW;QACb;IACF;IAEA,IAAI,SAAS;QACX,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC,2KAAA,CAAA,SAAM;;;;;;;;;;IAGb;IAEA,IAAI,CAAC,iBAAiB;QACpB,qBACE,8OAAC;YAAI,WAAU;;8BACb,8OAAC;8BAAE;;;;;;8BACH,8OAAC;oBACC,SAAS;oBACT,WAAU;8BACX;;;;;;;;;;;;IAKP;IAEA,qBACE,8OAAC,uKAAA,CAAA,UAAgB;QACf,eAAe;QACf,UAAU;QACV,SAAS;QACT,YAAY;;;;;;AAGlB","debugId":null}},
    {"offset": {"line": 3289, "column": 0}, "map": {"version":3,"sources":["file:///home/met/2025%20Projects/Ensight_frontend_2/frontend/src/components/ui/management/resources/ViewResource.tsx"],"sourcesContent":["import React from \"react\";\r\nimport { Text, Title, Badge } from \"@mantine/core\";\r\n\r\ninterface Resource {\r\n  id: string;\r\n  title: string;\r\n  description: string;\r\n  category:\r\n    | \"Featured Insight\"\r\n    | \"Our Latest Reports\"\r\n    | \"Data & Ensights\"\r\n    | \"Date Hub & Archive\";\r\n}\r\n\r\ninterface ViewResourceProps {\r\n  selectedResource: Resource | null;\r\n}\r\n\r\nconst categoryColors: Record<Resource[\"category\"], string> = {\r\n  \"Featured Insight\": \"blue\",\r\n  \"Our Latest Reports\": \"green\",\r\n  \"Data & Ensights\": \"orange\",\r\n  \"Date Hub & Archive\": \"purple\",\r\n};\r\n\r\nconst ViewResource: React.FC<ViewResourceProps> = ({ selectedResource }) => {\r\n  if (!selectedResource) {\r\n    return <Text>No resource selected.</Text>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <div>\r\n        <Title order={4}>Title</Title>\r\n        <Text>{selectedResource.title || \"-\"}</Text>\r\n      </div>\r\n      <div>\r\n        <Title order={4}>Description</Title>\r\n        <Text>{selectedResource.description || \"-\"}</Text>\r\n      </div>\r\n      <div>\r\n        <Title order={4}>Category</Title>\r\n        <Badge color={categoryColors[selectedResource.category]} size=\"sm\">\r\n          {selectedResource.category || \"-\"}\r\n        </Badge>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ViewResource;\r\n"],"names":[],"mappings":";;;;AACA;AAAA;AAAA;;;AAiBA,MAAM,iBAAuD;IAC3D,oBAAoB;IACpB,sBAAsB;IACtB,mBAAmB;IACnB,sBAAsB;AACxB;AAEA,MAAM,eAA4C,CAAC,EAAE,gBAAgB,EAAE;IACrE,IAAI,CAAC,kBAAkB;QACrB,qBAAO,8OAAC,uKAAA,CAAA,OAAI;sBAAC;;;;;;IACf;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;;kCACC,8OAAC,yKAAA,CAAA,QAAK;wBAAC,OAAO;kCAAG;;;;;;kCACjB,8OAAC,uKAAA,CAAA,OAAI;kCAAE,iBAAiB,KAAK,IAAI;;;;;;;;;;;;0BAEnC,8OAAC;;kCACC,8OAAC,yKAAA,CAAA,QAAK;wBAAC,OAAO;kCAAG;;;;;;kCACjB,8OAAC,uKAAA,CAAA,OAAI;kCAAE,iBAAiB,WAAW,IAAI;;;;;;;;;;;;0BAEzC,8OAAC;;kCACC,8OAAC,yKAAA,CAAA,QAAK;wBAAC,OAAO;kCAAG;;;;;;kCACjB,8OAAC,yKAAA,CAAA,QAAK;wBAAC,OAAO,cAAc,CAAC,iBAAiB,QAAQ,CAAC;wBAAE,MAAK;kCAC3D,iBAAiB,QAAQ,IAAI;;;;;;;;;;;;;;;;;;AAKxC;uCAEe","debugId":null}},
    {"offset": {"line": 3402, "column": 0}, "map": {"version":3,"sources":["file:///home/met/2025%20Projects/Ensight_frontend_2/frontend/src/components/ui/management/resources/ResourceTable.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { Button, TextInput, Select, Group, Modal } from \"@mantine/core\";\nimport { IconPlus, IconSearch, IconRefresh } from \"@tabler/icons-react\";\nimport ResourcesTableView from \"./ResourceTableView\";\nimport AddResourceForm from \"./AddResourceForm\";\nimport EditResourceForm from \"./EditResourceForm\";\nimport ViewResource from \"./ViewResource\";\nimport toast from \"react-hot-toast\";\n\ninterface Resource {\n  id: string;\n  title: string;\n  description: string;\n  category:\n    | \"Featured Insight\"\n    | \"Our Latest Reports\"\n    | \"Data & Ensights\"\n    | \"Date Hub & Archive\";\n}\n\ninterface ResourcesTableProps {\n  data: Resource[];\n}\n\nexport default function ResourcesTable({\n  data: initialData,\n}: ResourcesTableProps) {\n  const [search, setSearch] = useState(\"\");\n  const [filter, setFilter] = useState<string>(\"All\");\n  const [addOpened, setAddOpened] = useState(false);\n  const [editOpened, setEditOpened] = useState(false);\n  const [viewOpened, setViewOpened] = useState(false);\n  const [selectedResource, setSelectedResource] = useState<Resource | null>(\n    null\n  );\n  const [resources, setResources] = useState<Resource[]>(initialData);\n  const [loading, setLoading] = useState(true);\n  const [token, setToken] = useState<string | null>(null);\n\n  useEffect(() => {\n    if (typeof window === \"undefined\") return;\n    const storedToken = localStorage.getItem(\"token\");\n    if (storedToken) setToken(storedToken);\n  }, []);\n\n  const loadResources = async () => {\n    try {\n      setLoading(true);\n      const response = await fetch(\"/api/resources\", {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: token ? `Bearer ${token}` : \"\",\n        },\n      });\n      if (!response.ok) {\n        toast.error(`Failed to fetch resources: ${response.statusText}`);\n        setResources([]);\n      }\n      // const data = await response.json();\n      // setResources(data);\n      const data = await response.json();\n      setResources(Array.isArray(data) ? data : data.resources || []);\n\n    } catch (error) {\n      toast.error(\n        error instanceof Error\n          ? error.message\n          : \"Failed to load resources. Please try again later.\"\n      );\n      setResources([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    if (!token) return;\n    loadResources();\n  }, [token]);\n\n  const handleRefresh = () => {\n    loadResources();\n  };\n\n  const handleDelete = async (resourceId: string) => {\n    try {\n      const response = await fetch(`/api/resources/${resourceId}`, {\n        method: \"DELETE\",\n        headers: {\n          Authorization: token ? `Bearer ${token}` : \"\",\n        },\n      });\n      if (!response.ok) {\n        const error = await response.json();\n        toast.error(error.message || `HTTP error! status: ${response.status}`);\n        return;\n      }\n      await loadResources();\n    } catch (error) {\n      toast.error(\n        error instanceof Error\n          ? error.message\n          : \"Failed to delete resource. Please try again later.\"\n      );\n    }\n  };\n\n  const handleView = (resource: Resource) => {\n    setSelectedResource(resource);\n    setViewOpened(true);\n  };\n\n  const handleEdit = (resource: Resource) => {\n    setSelectedResource(resource);\n    setEditOpened(true);\n  };\n\n  const filteredData = resources.filter((resource) => {\n    const matchesSearch =\n      resource.title.toLowerCase().includes(search.toLowerCase()) ||\n      resource.description.toLowerCase().includes(search.toLowerCase()) ||\n      resource.category.toLowerCase().includes(search.toLowerCase());\n    const matchesFilter =\n      filter === \"All\" ||\n      resource.category.toLowerCase() === filter.toLowerCase();\n    return matchesSearch && matchesFilter;\n  });\n\n  return (\n    <div className=\"max-w-full p-4 overflow-x-auto sm:p-6 md:p-8\">\n      <div className=\"flex flex-col gap-4 mb-6 sm:flex-row sm:justify-between sm:items-center\">\n        <Group gap=\"xs\" wrap=\"wrap\">\n          <Button\n            leftSection={<IconPlus size={16} />}\n            variant=\"filled\"\n            color=\"blue\"\n            onClick={() => setAddOpened(true)}\n            size=\"compact-md\"\n            className=\"w-full sm:w-auto\"\n          >\n            Add new\n          </Button>\n          <Button\n            leftSection={<IconRefresh size={16} />}\n            variant=\"outline\"\n            color=\"blue\"\n            onClick={handleRefresh}\n            size=\"compact-md\"\n            className=\"w-full sm:w-auto\"\n          >\n            Refresh\n          </Button>\n        </Group>\n        <Group gap=\"xs\" wrap=\"wrap\">\n          <TextInput\n            placeholder=\"Search...\"\n            value={search}\n            onChange={(event) => setSearch(event.currentTarget.value)}\n            rightSection={<IconSearch size={16} />}\n            size=\"sm\"\n          />\n          <Select\n            placeholder=\"All\"\n            data={[\n              \"All\",\n              \"Featured Insight\",\n              \"Our Latest Reports\",\n              \"Data & Ensights\",\n              \"Date Hub & Archive\",\n            ]}\n            value={filter}\n            onChange={(value) => setFilter(value || \"All\")}\n            size=\"sm\"\n          />\n        </Group>\n      </div>\n      <ResourcesTableView\n        resources={filteredData}\n        loading={loading}\n        onView={handleView}\n        onEdit={handleEdit}\n        onDelete={handleDelete}\n      />\n      <Modal\n        opened={addOpened}\n        onClose={() => setAddOpened(false)}\n        title=\"Add New Resource\"\n        size=\"xl\"\n        closeOnEscape={false}\n        closeOnClickOutside={false}\n      >\n        <AddResourceForm\n          onClose={() => {\n            setAddOpened(false);\n            handleRefresh();\n          }}\n        />\n      </Modal>\n      <Modal\n        opened={editOpened}\n        onClose={() => setEditOpened(false)}\n        title=\"Edit Resource\"\n        size=\"xl\"\n        closeOnEscape={false}\n        closeOnClickOutside={false}\n      >\n        {selectedResource && (\n          <EditResourceForm\n            resource={selectedResource}\n            onClose={() => {\n              setEditOpened(false);\n              handleRefresh();\n            }}\n          />\n        )}\n      </Modal>\n      <Modal\n        opened={viewOpened}\n        onClose={() => setViewOpened(false)}\n        title=\"View Resource\"\n        size=\"xl\"\n        closeOnEscape={false}\n        closeOnClickOutside={false}\n      >\n        {selectedResource && (\n          <ViewResource selectedResource={selectedResource} />\n        )}\n      </Modal>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3702, "column": 0}, "map": {"version":3,"sources":["file:///home/met/2025%20Projects/Ensight_frontend_2/frontend/src/components/ui/management/corporate/CorporateTableView.tsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport { Menu, ActionIcon, Table, Loader, Pagination } from \"@mantine/core\";\r\nimport { IconDots, IconEye, IconPencil, IconTrash } from \"@tabler/icons-react\";\r\nimport { Corporate } from \"@/lib/types\";\r\n\r\ninterface CorporateTableViewProps {\r\n  corporates: Corporate[];\r\n  loading: boolean;\r\n  onView: (corporate: Corporate) => void;\r\n  onEdit: (corporate: Corporate) => void;\r\n  onDelete: (id: string | undefined) => void;\r\n  itemsPerPage?: number;\r\n}\r\n\r\nconst columns = [\r\n  { header: \"Title\", accessor: \"title\" },\r\n  { header: \"Description\", accessor: \"description\" },\r\n  { header: \"Name\", accessor: \"name\" },\r\n  { header: \"Actions\", accessor: \"actions\" },\r\n];\r\n\r\nexport default function CorporateTableView({\r\n  corporates,\r\n  loading,\r\n  onView,\r\n  onEdit,\r\n  onDelete,\r\n  itemsPerPage = 5,\r\n}: CorporateTableViewProps) {\r\n  const [activePage, setPage] = useState(1);\r\n\r\n  const totalPages = Math.ceil(corporates.length / itemsPerPage);\r\n  const paginatedCorporates = corporates.slice(\r\n    (activePage - 1) * itemsPerPage,\r\n    activePage * itemsPerPage\r\n  );\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center py-8\">\r\n        <Loader />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Table\r\n        highlightOnHover\r\n        verticalSpacing=\"sm\"\r\n        className=\"border border-gray-300\"\r\n      >\r\n        <Table.Thead className=\"text-center text-gray-700 bg-gray-400\">\r\n          <Table.Tr>\r\n            {columns.map((column) => (\r\n              <Table.Th key={column.accessor}>{column.header}</Table.Th>\r\n            ))}\r\n          </Table.Tr>\r\n        </Table.Thead>\r\n        <Table.Tbody>\r\n          {paginatedCorporates.map((corporate) => (\r\n            <Table.Tr key={corporate.id} className=\"text-left\">\r\n              <Table.Td>{corporate.title}</Table.Td>\r\n              <Table.Td>{corporate.description || \"-\"}</Table.Td>\r\n              <Table.Td>{corporate.name}</Table.Td>\r\n              <Table.Td>\r\n                <Menu shadow=\"md\" width={200} position=\"bottom-end\">\r\n                  <Menu.Target>\r\n                    <ActionIcon color=\"blue\" title=\"Actions\" size=\"sm\">\r\n                      <IconDots size={14} />\r\n                    </ActionIcon>\r\n                  </Menu.Target>\r\n                  <Menu.Dropdown>\r\n                    <Menu.Item\r\n                      leftSection={<IconEye size={14} />}\r\n                      onClick={() => onView(corporate)}\r\n                    >\r\n                      View\r\n                    </Menu.Item>\r\n                    <Menu.Item\r\n                      leftSection={<IconPencil size={14} />}\r\n                      onClick={() => onEdit(corporate)}\r\n                    >\r\n                      Edit\r\n                    </Menu.Item>\r\n                    <Menu.Item\r\n                      leftSection={<IconTrash size={14} />}\r\n                      onClick={() => onDelete(corporate?.id)}\r\n                      color=\"red\"\r\n                    >\r\n                      Delete\r\n                    </Menu.Item>\r\n                  </Menu.Dropdown>\r\n                </Menu>\r\n              </Table.Td>\r\n            </Table.Tr>\r\n          ))}\r\n        </Table.Tbody>\r\n      </Table>\r\n\r\n      {totalPages > 1 && (\r\n        <div className=\"flex justify-end mt-4\">\r\n          <span className=\"mt-2 mr-2 text-xs text-gray-300\">\r\n            Total Entries: ({corporates.length})\r\n          </span>\r\n          <Pagination\r\n            total={totalPages}\r\n            value={activePage}\r\n            onChange={setPage}\r\n            size=\"sm\"\r\n            radius=\"md\"\r\n            withEdges\r\n          />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3964, "column": 0}, "map": {"version":3,"sources":["file:///home/met/2025%20Projects/Ensight_frontend_2/frontend/src/components/ui/management/corporate/CorporateFormBase.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useForm } from \"@mantine/form\";\r\nimport {\r\n  Button,\r\n  TextInput,\r\n  Textarea,\r\n  FileInput,\r\n  Group,\r\n  Loader,\r\n  Stack,\r\n  Text,\r\n} from \"@mantine/core\";\r\nimport Image from \"next/image\";\r\nimport { Corporate } from \"@/lib/types\";\r\n\r\ninterface CorporateFormBaseProps {\r\n  initialValues: Corporate;\r\n  onSubmit: (values: Corporate) => Promise<void>;\r\n  loading: boolean;\r\n  isEditMode: boolean;\r\n}\r\n\r\nexport default function CorporateFormBase({\r\n  initialValues,\r\n  onSubmit,\r\n  loading,\r\n  isEditMode,\r\n}: CorporateFormBaseProps) {\r\n  const form = useForm<Corporate>({\r\n    initialValues,\r\n    validate: {\r\n      title: (value) =>\r\n        value.length < 3 ? \"Title must be at least 3 characters\" : null,\r\n      description: (value) =>\r\n        value.length < 10 ? \"Description must be at least 10 characters\" : null,\r\n      content: (value) =>\r\n        value.length < 10 ? \"Content must be at least 10 characters\" : null,\r\n      image: (value) =>\r\n        !isEditMode && !value ? \"Image is required for new entries\" : null,\r\n      profileImage: (value) =>\r\n        !isEditMode && !value\r\n          ? \"Profile image is required for new entries\"\r\n          : null,\r\n      name: (value) =>\r\n        value.length < 2 ? \"Name must be at least 2 characters\" : null,\r\n      role: (value) =>\r\n        value.length < 2 ? \"Role must be at least 2 characters\" : null,\r\n      born: (value) =>\r\n        value.length < 2 ? \"Born must be at least 2 characters\" : null,\r\n      education: (value) =>\r\n        value.length < 5 ? \"Education must be at least 5 characters\" : null,\r\n      mission: (value) =>\r\n        value.length < 10 ? \"Mission must be at least 10 characters\" : null,\r\n      specialties: (value) =>\r\n        value.length < 5 ? \"Specialties must be at least 5 characters\" : null,\r\n      certifications: (value) =>\r\n        value.length < 5\r\n          ? \"Certifications must be at least 5 characters\"\r\n          : null,\r\n      motto: (value) =>\r\n        value.length < 5 ? \"Motto must be at least 5 characters\" : null,\r\n      founded: (value) =>\r\n        value.length < 2 ? \"Founded must be at least 2 characters\" : null,\r\n    },\r\n  });\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center py-8\">\r\n        <Loader />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={form.onSubmit(onSubmit)} className=\"p-4\">\r\n      <TextInput\r\n        label=\"Title\"\r\n        placeholder=\"Enter title\"\r\n        {...form.getInputProps(\"title\")}\r\n        mb=\"md\"\r\n      />\r\n      <Textarea\r\n        label=\"Description\"\r\n        placeholder=\"Enter description\"\r\n        minRows={4}\r\n        {...form.getInputProps(\"description\")}\r\n        mb=\"md\"\r\n      />\r\n      <Textarea\r\n        label=\"Content\"\r\n        placeholder=\"Enter content\"\r\n        minRows={6}\r\n        {...form.getInputProps(\"content\")}\r\n        mb=\"md\"\r\n      />\r\n      <Group justify=\"space-between\" align=\"flex-start\" wrap=\"nowrap\" mb=\"md\">\r\n        {isEditMode &&\r\n          form.values.image &&\r\n          typeof form.values.image === \"string\" && (\r\n            <Stack align=\"center\" gap=\"xs\" style={{ flexShrink: 0 }}>\r\n              <Image\r\n                src={form.values.image}\r\n                alt={form.values.title || \"Uploaded image\"}\r\n                width={100}\r\n                height={100}\r\n                style={{ objectFit: \"cover\" }}\r\n              />\r\n              <Text size=\"sm\" color=\"dimmed\">\r\n                Current Image\r\n              </Text>\r\n            </Stack>\r\n          )}\r\n        <FileInput\r\n          label=\"Select an Image\"\r\n          placeholder=\"Upload image\"\r\n          accept=\"image/*\"\r\n          {...form.getInputProps(\"image\")}\r\n          style={{\r\n            flex: 1,\r\n            maxWidth: `${isEditMode ? \"calc(100% - 120px)\" : \"100%\"}`,\r\n          }}\r\n        />\r\n      </Group>\r\n      <Group justify=\"space-between\" align=\"flex-start\" wrap=\"nowrap\" mb=\"md\">\r\n        {isEditMode &&\r\n          form.values.profileImage &&\r\n          typeof form.values.profileImage === \"string\" && (\r\n            <Stack align=\"center\" gap=\"xs\" style={{ flexShrink: 0 }}>\r\n              <Image\r\n                src={form.values.profileImage}\r\n                alt={form.values.name || \"Uploaded profile image\"}\r\n                width={100}\r\n                height={100}\r\n                style={{ objectFit: \"cover\" }}\r\n              />\r\n              <Text size=\"sm\" color=\"dimmed\">\r\n                Current Profile Image\r\n              </Text>\r\n            </Stack>\r\n          )}\r\n        <FileInput\r\n          label=\"Select a Profile Image\"\r\n          placeholder=\"Upload profile image\"\r\n          accept=\"image/*\"\r\n          {...form.getInputProps(\"profileImage\")}\r\n          style={{\r\n            flex: 1,\r\n            maxWidth: `${isEditMode ? \"calc(100% - 120px)\" : \"100%\"}`,\r\n          }}\r\n        />\r\n      </Group>\r\n      <TextInput\r\n        label=\"Quote (Optional)\"\r\n        placeholder=\"Enter quote\"\r\n        {...form.getInputProps(\"quote\")}\r\n        mb=\"md\"\r\n      />\r\n      <TextInput\r\n        label=\"Name\"\r\n        placeholder=\"Enter name\"\r\n        {...form.getInputProps(\"name\")}\r\n        mb=\"md\"\r\n      />\r\n      <TextInput\r\n        label=\"Role\"\r\n        placeholder=\"Enter role\"\r\n        {...form.getInputProps(\"role\")}\r\n        mb=\"md\"\r\n      />\r\n      <TextInput\r\n        label=\"Born\"\r\n        placeholder=\"Enter birth details\"\r\n        {...form.getInputProps(\"born\")}\r\n        mb=\"md\"\r\n      />\r\n      <TextInput\r\n        label=\"Education\"\r\n        placeholder=\"Enter education details\"\r\n        {...form.getInputProps(\"education\")}\r\n        mb=\"md\"\r\n      />\r\n      <Textarea\r\n        label=\"Mission\"\r\n        placeholder=\"Enter mission statement\"\r\n        minRows={4}\r\n        {...form.getInputProps(\"mission\")}\r\n        mb=\"md\"\r\n      />\r\n      <TextInput\r\n        label=\"Specialties\"\r\n        placeholder=\"Enter specialties\"\r\n        {...form.getInputProps(\"specialties\")}\r\n        mb=\"md\"\r\n      />\r\n      <TextInput\r\n        label=\"Certifications\"\r\n        placeholder=\"Enter certifications\"\r\n        {...form.getInputProps(\"certifications\")}\r\n        mb=\"md\"\r\n      />\r\n      <TextInput\r\n        label=\"Motto\"\r\n        placeholder=\"Enter motto\"\r\n        {...form.getInputProps(\"motto\")}\r\n        mb=\"md\"\r\n      />\r\n      <TextInput\r\n        label=\"Founded\"\r\n        placeholder=\"Enter founding details\"\r\n        {...form.getInputProps(\"founded\")}\r\n        mb=\"md\"\r\n      />\r\n      <Group justify=\"flex-end\" mt=\"lg\">\r\n        <Button\r\n          type=\"submit\"\r\n          disabled={loading || !form.isDirty()}\r\n          color=\"blue\"\r\n        >\r\n          {isEditMode ? \"Update Corporate\" : \"Create Corporate\"}\r\n        </Button>\r\n      </Group>\r\n    </form>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4307, "column": 0}, "map": {"version":3,"sources":["file:///home/met/2025%20Projects/Ensight_frontend_2/frontend/src/components/ui/management/corporate/AddCorporateForm.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport toast from \"react-hot-toast\";\nimport CorporateFormBase from \"./CorporateFormBase\";\nimport { Corporate } from \"@/lib/types\";\n\ninterface AddCorporateFormProps {\n  onClose: () => void;\n}\n\nexport default function AddCorporateForm({ onClose }: AddCorporateFormProps) {\n  const [token, setToken] = useState<string | null>(null);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    if (typeof window === \"undefined\") return;\n    const storedToken = localStorage.getItem(\"token\");\n    if (storedToken) setToken(storedToken);\n  }, []);\n\n  const initialValues: Corporate = {\n    id: uuidv4(),\n    title: \"\",\n    description: \"\",\n    content: \"\",\n    image: \"\",\n    profileImage: \"\",\n    quote: \"\",\n    name: \"\",\n    role: \"\",\n    born: \"\",\n    education: \"\",\n    mission: \"\",\n    specialties: \"\",\n    certifications: \"\",\n    motto: \"\",\n    founded: \"\",\n  };\n\n  const handleSubmit = async (values: Corporate) => {\n    if (!token) {\n      toast.error(\"Authentication token missing\");\n      return;\n    }\n    setLoading(true);\n    try {\n      const formData = new FormData();\n      formData.append(\"title\", values.title);\n      if (values.description) formData.append(\"description\", values.description);\n      if (values.content) formData.append(\"content\", values.content);\n      if (values.quote) formData.append(\"quote\", values.quote);\n      if (values.name) formData.append(\"name\", values.name);\n      if (values.role) formData.append(\"role\", values.role);\n      if (values.born) formData.append(\"born\", values.born);\n      if (values.education) formData.append(\"education\", values.education);\n      if (values.mission) formData.append(\"mission\", values.mission);\n      if (values.specialties) formData.append(\"specialties\", values.specialties);\n      if (values.certifications) formData.append(\"certifications\", values.certifications);\n      if (values.motto) formData.append(\"motto\", values.motto);\n      if (values.founded) formData.append(\"founded\", values.founded);\n      if (values.image instanceof File) {\n        formData.append(\"image\", values.image);\n      }\n      if (values.profileImage instanceof File) {\n        formData.append(\"profile_image\", values.profileImage);\n      }\n\n      const response = await fetch(\"/api/corporate\", {\n        method: \"POST\",\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n        body: formData,\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        toast.error(error.message || \"Failed to create corporate entry\");\n        return;\n      }\n\n      toast.success(\"Corporate entry created successfully\");\n      onClose();\n      //eslint-disable-next-line\n    } catch (error: any) {\n      toast.error(error.message || \"Failed to create corporate entry\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <CorporateFormBase\n      initialValues={initialValues}\n      onSubmit={handleSubmit}\n      loading={loading}\n      isEditMode={false}\n    />\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAYe,SAAS,iBAAiB,EAAE,OAAO,EAAyB;IACzE,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB;IAClD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,wCAAmC;;QACnC,MAAM;IAER,GAAG,EAAE;IAEL,MAAM,gBAA2B;QAC/B,IAAI,CAAA,GAAA,kLAAA,CAAA,KAAM,AAAD;QACT,OAAO;QACP,aAAa;QACb,SAAS;QACT,OAAO;QACP,cAAc;QACd,OAAO;QACP,MAAM;QACN,MAAM;QACN,MAAM;QACN,WAAW;QACX,SAAS;QACT,aAAa;QACb,gBAAgB;QAChB,OAAO;QACP,SAAS;IACX;IAEA,MAAM,eAAe,OAAO;QAC1B,IAAI,CAAC,OAAO;YACV,uJAAA,CAAA,UAAK,CAAC,KAAK,CAAC;YACZ;QACF;QACA,WAAW;QACX,IAAI;YACF,MAAM,WAAW,IAAI;YACrB,SAAS,MAAM,CAAC,SAAS,OAAO,KAAK;YACrC,IAAI,OAAO,WAAW,EAAE,SAAS,MAAM,CAAC,eAAe,OAAO,WAAW;YACzE,IAAI,OAAO,OAAO,EAAE,SAAS,MAAM,CAAC,WAAW,OAAO,OAAO;YAC7D,IAAI,OAAO,KAAK,EAAE,SAAS,MAAM,CAAC,SAAS,OAAO,KAAK;YACvD,IAAI,OAAO,IAAI,EAAE,SAAS,MAAM,CAAC,QAAQ,OAAO,IAAI;YACpD,IAAI,OAAO,IAAI,EAAE,SAAS,MAAM,CAAC,QAAQ,OAAO,IAAI;YACpD,IAAI,OAAO,IAAI,EAAE,SAAS,MAAM,CAAC,QAAQ,OAAO,IAAI;YACpD,IAAI,OAAO,SAAS,EAAE,SAAS,MAAM,CAAC,aAAa,OAAO,SAAS;YACnE,IAAI,OAAO,OAAO,EAAE,SAAS,MAAM,CAAC,WAAW,OAAO,OAAO;YAC7D,IAAI,OAAO,WAAW,EAAE,SAAS,MAAM,CAAC,eAAe,OAAO,WAAW;YACzE,IAAI,OAAO,cAAc,EAAE,SAAS,MAAM,CAAC,kBAAkB,OAAO,cAAc;YAClF,IAAI,OAAO,KAAK,EAAE,SAAS,MAAM,CAAC,SAAS,OAAO,KAAK;YACvD,IAAI,OAAO,OAAO,EAAE,SAAS,MAAM,CAAC,WAAW,OAAO,OAAO;YAC7D,IAAI,OAAO,KAAK,YAAY,MAAM;gBAChC,SAAS,MAAM,CAAC,SAAS,OAAO,KAAK;YACvC;YACA,IAAI,OAAO,YAAY,YAAY,MAAM;gBACvC,SAAS,MAAM,CAAC,iBAAiB,OAAO,YAAY;YACtD;YAEA,MAAM,WAAW,MAAM,MAAM,kBAAkB;gBAC7C,QAAQ;gBACR,SAAS;oBACP,eAAe,CAAC,OAAO,EAAE,OAAO;gBAClC;gBACA,MAAM;YACR;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,QAAQ,MAAM,SAAS,IAAI;gBACjC,uJAAA,CAAA,UAAK,CAAC,KAAK,CAAC,MAAM,OAAO,IAAI;gBAC7B;YACF;YAEA,uJAAA,CAAA,UAAK,CAAC,OAAO,CAAC;YACd;QACA,0BAA0B;QAC5B,EAAE,OAAO,OAAY;YACnB,uJAAA,CAAA,UAAK,CAAC,KAAK,CAAC,MAAM,OAAO,IAAI;QAC/B,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,8OAAC,wKAAA,CAAA,UAAiB;QAChB,eAAe;QACf,UAAU;QACV,SAAS;QACT,YAAY;;;;;;AAGlB","debugId":null}},
    {"offset": {"line": 4412, "column": 0}, "map": {"version":3,"sources":["file:///home/met/2025%20Projects/Ensight_frontend_2/frontend/src/components/ui/management/corporate/EditCorporateForm.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { Loader } from \"@mantine/core\";\nimport toast from \"react-hot-toast\";\nimport CorporateFormBase from \"./CorporateFormBase\";\nimport { Corporate } from \"@/lib/types\";\n\ninterface EditCorporateFormProps {\n  corporate: Partial<Corporate>;\n  onClose: () => void;\n}\n\nexport default function EditCorporateForm({\n  corporate,\n  onClose,\n}: EditCorporateFormProps) {\n  const [token, setToken] = useState<string | null>(null);\n  const [fetchedCorporate, setFetchedCorporate] = useState<Corporate | null>(\n    null\n  );\n  const [loading, setLoading] = useState<boolean>(false);\n\n  useEffect(() => {\n    if (typeof window === \"undefined\") return;\n    const storedToken = localStorage.getItem(\"token\");\n    if (storedToken) setToken(storedToken);\n  }, []);\n\n  useEffect(() => {\n    const fetchCorporateById = async () => {\n      if (!corporate?.id || !token) return;\n      setLoading(true);\n      try {\n        const res = await fetch(`/api/corporate/${corporate.id}`, {\n          method: \"GET\",\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        });\n        if (!res.ok) {\n          toast.error(\"Failed to fetch corporate entry\");\n          setLoading(false);\n          return;\n        }\n        const data = await res.json();\n        setFetchedCorporate(data);\n        //eslint-disable-next-line @typescript-eslint/no-explicit-any\n      } catch (error: any) {\n        toast.error(error.message || \"Failed to fetch corporate entry\");\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchCorporateById();\n  }, [corporate?.id, token]);\n\n  const handleSubmit = async (values: Corporate) => {\n    if (!token) {\n      toast.error(\"Authentication token missing\");\n      return;\n    }\n    setLoading(true);\n    try {\n      const formData = new FormData();\n      if (values.title) formData.append(\"title\", values.title);\n      if (values.description) formData.append(\"description\", values.description);\n      if (values.content) formData.append(\"content\", values.content);\n      if (values.quote) formData.append(\"quote\", values.quote);\n      if (values.name) formData.append(\"name\", values.name);\n      if (values.role) formData.append(\"role\", values.role);\n      if (values.born) formData.append(\"born\", values.born);\n      if (values.education) formData.append(\"education\", values.education);\n      if (values.mission) formData.append(\"mission\", values.mission);\n      if (values.specialties) formData.append(\"specialties\", values.specialties);\n      if (values.certifications) formData.append(\"certifications\", values.certifications);\n      if (values.motto) formData.append(\"motto\", values.motto);\n      if (values.founded) formData.append(\"founded\", values.founded);\n      if (values.image instanceof File) {\n        formData.append(\"image\", values.image);\n      }\n      if (values.profileImage instanceof File) {\n        formData.append(\"profile_image\", values.profileImage);\n      }\n\n      const response = await fetch(`/api/corporate/${values.id}`, {\n        method: \"PATCH\",\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n        body: formData,\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        toast.error(error.message || \"Failed to update corporate entry\");\n        return;\n      }\n\n      toast.success(\"Corporate entry updated successfully\");\n      onClose();\n      //eslint-disable-next-line @typescript-eslint/no-explicit-any\n    } catch (error: any) {\n      toast.error(error.message || \"Failed to update corporate entry\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center py-8\">\n        <Loader />\n      </div>\n    );\n  }\n\n  if (!fetchedCorporate) {\n    return (\n      <div className=\"flex flex-col items-center justify-center py-8 space-y-4\">\n        <p>Corporate entry not found</p>\n        <button\n          onClick={onClose}\n          className=\"px-4 py-2 text-white bg-red-500 rounded-md cursor-pointer\"\n        >\n          Close\n        </button>\n      </div>\n    );\n  }\n\n  return (\n    <CorporateFormBase\n      initialValues={fetchedCorporate}\n      onSubmit={handleSubmit}\n      loading={loading}\n      isEditMode={true}\n    />\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4571, "column": 0}, "map": {"version":3,"sources":["file:///home/met/2025%20Projects/Ensight_frontend_2/frontend/src/components/ui/management/corporate/ViewCorporate.tsx"],"sourcesContent":["import React from \"react\";\r\nimport { Text, Title, Image } from \"@mantine/core\";\r\nimport { Corporate } from \"@/lib/types\";\r\n\r\ninterface ViewCorporateProps {\r\n  selectedCorporate: Corporate | null;\r\n}\r\n\r\nconst ViewCorporate: React.FC<ViewCorporateProps> = ({ selectedCorporate }) => {\r\n  if (!selectedCorporate) {\r\n    return <Text>No corporate entry selected.</Text>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <div>\r\n        <Title order={4}>Title</Title>\r\n        <Text>{selectedCorporate.title || \"-\"}</Text>\r\n      </div>\r\n      <div>\r\n        <Title order={4}>Description</Title>\r\n        <Text>{selectedCorporate.description || \"-\"}</Text>\r\n      </div>\r\n      <div>\r\n        <Title order={4}>Content</Title>\r\n        <Text>{selectedCorporate.content || \"-\"}</Text>\r\n      </div>\r\n      <div>\r\n        <Title order={4}>Image</Title>\r\n        {selectedCorporate.image ? (\r\n          <Image\r\n            src={selectedCorporate.image}\r\n            alt={selectedCorporate.title || \"Corporate image\"}\r\n            radius=\"md\"\r\n            height={200}\r\n            fit=\"contain\"\r\n            className=\"w-full max-w-md\"\r\n          />\r\n        ) : (\r\n          <Text>-</Text>\r\n        )}\r\n      </div>\r\n      <div>\r\n        <Title order={4}>Profile Image</Title>\r\n        {selectedCorporate.profileImage ? (\r\n          <Image\r\n            src={selectedCorporate.profileImage}\r\n            alt={selectedCorporate.name || \"Profile image\"}\r\n            radius=\"md\"\r\n            height={200}\r\n            fit=\"contain\"\r\n            className=\"w-full max-w-md\"\r\n          />\r\n        ) : (\r\n          <Text>-</Text>\r\n        )}\r\n      </div>\r\n      <div>\r\n        <Title order={4}>Quote</Title>\r\n        <Text>{selectedCorporate.quote || \"-\"}</Text>\r\n      </div>\r\n      <div>\r\n        <Title order={4}>Name</Title>\r\n        <Text>{selectedCorporate.name || \"-\"}</Text>\r\n      </div>\r\n      <div>\r\n        <Title order={4}>Role</Title>\r\n        <Text>{selectedCorporate.role || \"-\"}</Text>\r\n      </div>\r\n      <div>\r\n        <Title order={4}>Born</Title>\r\n        <Text>{selectedCorporate.born || \"-\"}</Text>\r\n      </div>\r\n      <div>\r\n        <Title order={4}>Education</Title>\r\n        <Text>{selectedCorporate.education || \"-\"}</Text>\r\n      </div>\r\n      <div>\r\n        <Title order={4}>Mission</Title>\r\n        <Text>{selectedCorporate.mission || \"-\"}</Text>\r\n      </div>\r\n      <div>\r\n        <Title order={4}>Specialties</Title>\r\n        <Text>{selectedCorporate.specialties || \"-\"}</Text>\r\n      </div>\r\n      <div>\r\n        <Title order={4}>Certifications</Title>\r\n        <Text>{selectedCorporate.certifications || \"-\"}</Text>\r\n      </div>\r\n      <div>\r\n        <Title order={4}>Motto</Title>\r\n        <Text>{selectedCorporate.motto || \"-\"}</Text>\r\n      </div>\r\n      <div>\r\n        <Title order={4}>Founded</Title>\r\n        <Text>{selectedCorporate.founded || \"-\"}</Text>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ViewCorporate;\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4974, "column": 0}, "map": {"version":3,"sources":["file:///home/met/2025%20Projects/Ensight_frontend_2/frontend/src/components/ui/management/corporate/CorporateTable.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { Button, TextInput, Group, Modal } from \"@mantine/core\";\nimport { IconPlus, IconSearch, IconRefresh } from \"@tabler/icons-react\";\nimport CorporateTableView from \"./CorporateTableView\";\nimport AddCorporateForm from \"./AddCorporateForm\";\nimport EditCorporateForm from \"./EditCorporateForm\";\nimport ViewCorporate from \"./ViewCorporate\";\nimport { Corporate } from \"@/lib/types\";\nimport toast from \"react-hot-toast\";\n\ninterface CorporateTableProps {\n  data: Corporate[];\n}\n\nexport default function CorporateTable({\n  data: initialData,\n}: CorporateTableProps) {\n  const [search, setSearch] = useState(\"\");\n  const [addOpened, setAddOpened] = useState(false);\n  const [editOpened, setEditOpened] = useState(false);\n  const [viewOpened, setViewOpened] = useState(false);\n  const [selectedCorporate, setSelectedCorporate] = useState<Corporate | null>(\n    null\n  );\n  const [corporates, setCorporates] = useState<Corporate[]>(initialData);\n  const [loading, setLoading] = useState(true);\n  const [token, setToken] = useState<string | null>(null);\n\n  useEffect(() => {\n    if (typeof window === \"undefined\") return;\n    const storedToken = localStorage.getItem(\"token\");\n    if (storedToken) setToken(storedToken);\n  }, []);\n\n  const loadCorporates = async () => {\n    try {\n      setLoading(true);\n      const response = await fetch(\"/api/corporate\", {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: token ? `Bearer ${token}` : \"\",\n        },\n      });\n      if (!response.ok) {\n        toast.error(\n          `Failed to fetch corporate entries: ${response.statusText}`\n        );\n        setCorporates([]);\n      }\n\n      \n      // const data = await response.json();\n      // setCorporates(data);\n      const data = await response.json();\n      setCorporates(Array.isArray(data) ? data : data?.corporates || data?.data || []);\n\n    } catch (error) {\n      toast.error(\n        error instanceof Error\n          ? error.message\n          : \"Failed to load corporate entries. Please try again later.\"\n      );\n      setCorporates([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    if (!token) return;\n    loadCorporates();\n  }, [token]);\n\n  const handleRefresh = () => {\n    loadCorporates();\n  };\n\n  const handleDelete = async (corporateId: string | undefined) => {\n    try {\n      const response = await fetch(`/api/corporate/${corporateId}`, {\n        method: \"DELETE\",\n        headers: {\n          Authorization: token ? `Bearer ${token}` : \"\",\n        },\n      });\n      if (!response.ok) {\n        const error = await response.json();\n        toast.error(\n          error.message ||\n            `Failed to delete corporate entry: ${response.statusText}`\n        );\n        return;\n      }\n      await loadCorporates();\n    } catch (error) {\n      toast.error(\n        error instanceof Error\n          ? error.message\n          : \"Failed to delete corporate entry. Please try again later.\"\n      );\n    }\n  };\n\n  const handleView = (corporate: Corporate) => {\n    setSelectedCorporate(corporate);\n    setViewOpened(true);\n  };\n\n  const handleEdit = (corporate: Corporate) => {\n    setSelectedCorporate(corporate);\n    setEditOpened(true);\n  };\n\n  const filteredData = corporates.filter(\n    (corporate) =>\n      corporate.title.toLowerCase().includes(search.toLowerCase()) ||\n      corporate.description.toLowerCase().includes(search.toLowerCase()) ||\n      corporate.name.toLowerCase().includes(search.toLowerCase()) ||\n      corporate.role.toLowerCase().includes(search.toLowerCase())\n  );\n\n  return (\n    <div className=\"max-w-full p-4 overflow-x-auto sm:p-6 md:p-8\">\n      <div className=\"flex flex-col gap-4 mb-6 sm:flex-row sm:justify-between sm:items-center\">\n        <Group gap=\"xs\" wrap=\"wrap\">\n          <Button\n            leftSection={<IconPlus size={16} />}\n            variant=\"filled\"\n            color=\"blue\"\n            onClick={() => setAddOpened(true)}\n            size=\"compact-md\"\n            className=\"w-full sm:w-auto\"\n          >\n            Add new\n          </Button>\n          <Button\n            leftSection={<IconRefresh size={16} />}\n            variant=\"outline\"\n            color=\"blue\"\n            onClick={handleRefresh}\n            size=\"compact-md\"\n            className=\"w-full sm:w-auto\"\n          >\n            Refresh\n          </Button>\n        </Group>\n        <Group gap=\"xs\" wrap=\"wrap\">\n          <TextInput\n            placeholder=\"Search...\"\n            value={search}\n            onChange={(event) => setSearch(event.currentTarget.value)}\n            rightSection={<IconSearch size={16} />}\n            size=\"sm\"\n          />\n        </Group>\n      </div>\n      <CorporateTableView\n        corporates={filteredData}\n        loading={loading}\n        onView={handleView}\n        onEdit={handleEdit}\n        onDelete={handleDelete}\n      />\n      <Modal\n        opened={addOpened}\n        onClose={() => setAddOpened(false)}\n        title=\"Add New Corporate\"\n        size=\"xl\"\n        closeOnEscape={false}\n        closeOnClickOutside={false}\n      >\n        <AddCorporateForm\n          onClose={() => {\n            setAddOpened(false);\n            handleRefresh();\n          }}\n        />\n      </Modal>\n      <Modal\n        opened={editOpened}\n        onClose={() => setEditOpened(false)}\n        title=\"Edit Corporate\"\n        size=\"xl\"\n        closeOnEscape={false}\n        closeOnClickOutside={false}\n      >\n        {selectedCorporate && (\n          <EditCorporateForm\n            corporate={selectedCorporate}\n            onClose={() => {\n              setEditOpened(false);\n              handleRefresh();\n            }}\n          />\n        )}\n      </Modal>\n      <Modal\n        opened={viewOpened}\n        onClose={() => setViewOpened(false)}\n        title=\"View Corporate\"\n        size=\"xl\"\n        closeOnEscape={false}\n        closeOnClickOutside={false}\n      >\n        {selectedCorporate && (\n          <ViewCorporate selectedCorporate={selectedCorporate} />\n        )}\n      </Modal>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 5249, "column": 0}, "map": {"version":3,"sources":["file:///home/met/2025%20Projects/Ensight_frontend_2/frontend/src/app/management/page.tsx"],"sourcesContent":["// \"use client\";\n\n// import { useState, useEffect } from \"react\";\n// import { Tabs } from \"@mantine/core\";\n// import ArticlesTable from \"../../components/ui/management/article/ArticlesTable\";\n// import UserTable from \"../../components/ui/management/user/UsersTable\";\n// import { Article } from \"@/lib/types\";\n// import ResourceTable from \"@/components/ui/management/resources/ResourceTable\";\n// import CorporateTable from \"@/components/ui/management/corporate/CorporateTable\";\n\n// export default function ManagementPage() {\n//   const [articles, setArticles] = useState<Article[]>([]);\n\n//   useEffect(() => {\n//     const fetchedArticles: Article[] = [];\n//     setArticles(fetchedArticles);\n//   }, []);\n\n//   return (\n//     <div>\n//       <Tabs defaultValue=\"Articles\" className=\"pt-5\">\n//         <Tabs.List>\n//           <Tabs.Tab value=\"User\">User</Tabs.Tab>\n//           <Tabs.Tab value=\"Articles\">Articles</Tabs.Tab>\n//           <Tabs.Tab value=\"Resources\">Resources</Tabs.Tab>\n//           <Tabs.Tab value=\"Corporate\">Corporate</Tabs.Tab>\n//         </Tabs.List>\n\n//         <Tabs.Panel value=\"Articles\" pt=\"xs\">\n//           <ArticlesTable data={articles} />\n//         </Tabs.Panel>\n//         <Tabs.Panel value=\"User\" pt=\"xs\">\n//           <UserTable data={[]} />\n//         </Tabs.Panel>\n//         <Tabs.Panel value=\"Resources\" pt=\"xs\">\n//           <ResourceTable data={[]} />\n//         </Tabs.Panel>\n//         <Tabs.Panel value=\"Corporate\" pt=\"xs\">\n//           <CorporateTable data={[]} />\n//         </Tabs.Panel>\n//       </Tabs>\n//     </div>\n//   );\n// }\n\n\n\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { Tabs } from \"@mantine/core\";\nimport ArticlesTable from \"../../components/ui/management/article/ArticlesTable\";\nimport UserTable from \"../../components/ui/management/user/UsersTable\";\nimport ResourceTable from \"@/components/ui/management/resources/ResourceTable\";\nimport CorporateTable from \"@/components/ui/management/corporate/CorporateTable\";\nimport { Article } from \"@/lib/types\";\n\nexport default function ManagementPage() {\n  const [articles, setArticles] = useState<Article[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    async function fetchArticles() {\n      try {\n        const response = await fetch(\"/api/article\", {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"token\") || \"\"}`,\n          },\n        });\n\n        if (!response.ok) {\n          const err = await response.json();\n          throw new Error(err.message || \"Failed to fetch articles\");\n        }\n\n        const data = await response.json();\n        setArticles(data);\n      } catch (err: any) {\n        console.error(\"Error fetching articles:\", err);\n        setError(err.message || \"Something went wrong\");\n      } finally {\n        setLoading(false);\n      }\n    }\n\n    fetchArticles();\n  }, []);\n\n  return (\n    <div>\n      <Tabs defaultValue=\"Articles\" className=\"pt-5\">\n        <Tabs.List>\n          <Tabs.Tab value=\"User\">User</Tabs.Tab>\n          <Tabs.Tab value=\"Articles\">Articles</Tabs.Tab>\n          <Tabs.Tab value=\"Resources\">Resources</Tabs.Tab>\n          <Tabs.Tab value=\"Corporate\">Corporate</Tabs.Tab>\n        </Tabs.List>\n\n        <Tabs.Panel value=\"Articles\" pt=\"xs\">\n          {loading ? (\n            <p>Loading articles...</p>\n          ) : error ? (\n            <p>{error}</p>\n          ) : (\n            <ArticlesTable data={articles} />\n          )}\n        </Tabs.Panel>\n\n        <Tabs.Panel value=\"User\" pt=\"xs\">\n          <UserTable data={[]} />\n        </Tabs.Panel>\n\n        <Tabs.Panel value=\"Resources\" pt=\"xs\">\n          <ResourceTable data={[]} />\n        </Tabs.Panel>\n\n        <Tabs.Panel value=\"Corporate\" pt=\"xs\">\n          <CorporateTable data={[]} />\n        </Tabs.Panel>\n      </Tabs>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}