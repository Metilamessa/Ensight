{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/liban/Projects/Meti/Ensight_frontend/frontend/src/components/ui/profile/SettingsPanel.tsx"],"sourcesContent":["import React from \"react\";\nimport { Title, Text, Switch, Button } from \"@mantine/core\";\nimport { IconKey } from \"@tabler/icons-react\";\n\ninterface SettingsPanelProps {\n  settings: {\n    enablePersonalization: boolean;\n    trackReadingProgress: boolean;\n    contentUpdateNotifications: boolean;\n  };\n  //eslint-disable-next-line\n  handleSettingChange: (setting: any) => void;\n  onPasswordReset?: () => void;\n}\n\nconst SettingsPanel: React.FC<SettingsPanelProps> = ({\n  settings,\n  handleSettingChange,\n  onPasswordReset,\n}) => (\n  <div className=\"p-6 border rounded-lg shadow-sm bg-surface border-border\">\n    <Title order={3} className=\"mb-4 text-blue\">\n      Personalization Settings\n    </Title>\n    <Text className=\"mb-6 text-muted\">\n      Adjust how we personalize your content\n    </Text>\n    {[\n      {\n        title: \"Enable Personalization\",\n        description: \"Use your reading history to recommend relevant content\",\n        value: settings.enablePersonalization,\n        key: \"enablePersonalization\",\n      },\n      {\n        title: \"Track Reading Progress\",\n        description: \"Save article progress to resume later\",\n        value: settings.trackReadingProgress,\n        key: \"trackReadingProgress\",\n      },\n      {\n        title: \"Content Update Notifications\",\n        description: \"Notify you when new relevant content is published\",\n        value: settings.contentUpdateNotifications,\n        key: \"contentUpdateNotifications\",\n      },\n    ].map((setting) => (\n      <div\n        key={setting.key}\n        className=\"flex items-center justify-between mb-5 last:mb-0\"\n      >\n        <div className=\"flex-1 pr-4\">\n          <Text className=\"font-medium text-blue\">{setting.title}</Text>\n          <Text className=\"text-sm text-muted\">{setting.description}</Text>\n        </div>\n        <Switch\n          checked={setting.value}\n          onChange={() =>\n            handleSettingChange(setting.key as keyof typeof settings)\n          }\n          color=\"var(--color-blue)\"\n          size=\"md\"\n        />\n      </div>\n    ))}\n    {onPasswordReset && (\n      <div className=\"pt-4 mt-4 border-t border-border\">\n        <Button\n          leftSection={<IconKey size={16} />}\n          variant=\"outline\"\n          color=\"blue\"\n          onClick={onPasswordReset}\n          fullWidth\n        >\n          Change Password\n        </Button>\n      </div>\n    )}\n  </div>\n);\n\nexport default SettingsPanel;\n"],"names":[],"mappings":";;;;AACA;AAAA;AAAA;AAAA;AACA;;;;AAaA,MAAM,gBAA8C,CAAC,EACnD,QAAQ,EACR,mBAAmB,EACnB,eAAe,EAChB,iBACC,8OAAC;QAAI,WAAU;;0BACb,8OAAC,yKAAA,CAAA,QAAK;gBAAC,OAAO;gBAAG,WAAU;0BAAiB;;;;;;0BAG5C,8OAAC,uKAAA,CAAA,OAAI;gBAAC,WAAU;0BAAkB;;;;;;YAGjC;gBACC;oBACE,OAAO;oBACP,aAAa;oBACb,OAAO,SAAS,qBAAqB;oBACrC,KAAK;gBACP;gBACA;oBACE,OAAO;oBACP,aAAa;oBACb,OAAO,SAAS,oBAAoB;oBACpC,KAAK;gBACP;gBACA;oBACE,OAAO;oBACP,aAAa;oBACb,OAAO,SAAS,0BAA0B;oBAC1C,KAAK;gBACP;aACD,CAAC,GAAG,CAAC,CAAC,wBACL,8OAAC;oBAEC,WAAU;;sCAEV,8OAAC;4BAAI,WAAU;;8CACb,8OAAC,uKAAA,CAAA,OAAI;oCAAC,WAAU;8CAAyB,QAAQ,KAAK;;;;;;8CACtD,8OAAC,uKAAA,CAAA,OAAI;oCAAC,WAAU;8CAAsB,QAAQ,WAAW;;;;;;;;;;;;sCAE3D,8OAAC,2KAAA,CAAA,SAAM;4BACL,SAAS,QAAQ,KAAK;4BACtB,UAAU,IACR,oBAAoB,QAAQ,GAAG;4BAEjC,OAAM;4BACN,MAAK;;;;;;;mBAbF,QAAQ,GAAG;;;;;YAiBnB,iCACC,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC,2KAAA,CAAA,SAAM;oBACL,2BAAa,8OAAC,oNAAA,CAAA,UAAO;wBAAC,MAAM;;;;;;oBAC5B,SAAQ;oBACR,OAAM;oBACN,SAAS;oBACT,SAAS;8BACV;;;;;;;;;;;;;;;;;uCAQM","debugId":null}},
    {"offset": {"line": 140, "column": 0}, "map": {"version":3,"sources":["file:///home/liban/Projects/Meti/Ensight_frontend/frontend/src/components/ui/profile/TopicPanel.tsx"],"sourcesContent":["import React from \"react\";\nimport { Title, Text, Badge, Group } from \"@mantine/core\";\nimport { IconCheck } from \"@tabler/icons-react\";\n\nconst allTopics = [\"Business\", \"Economy\", \"Technology\", \"Finance\"];\n\ninterface TopicsPanelProps {\n  selectedTopics: string[];\n  handleTopicToggle: (topic: string) => void;\n}\n\nconst TopicsPanel: React.FC<TopicsPanelProps> = ({\n  selectedTopics,\n  handleTopicToggle,\n}) => (\n  <div className=\"p-6 border rounded-lg shadow-sm bg-surface border-border\">\n    <Title order={3} className=\"mb-4 text-blue\">\n      Topic Preferences\n    </Title>\n    <Text className=\"mb-6 text-muted\">\n      Select topics you&apos;re interested in\n    </Text>\n\n    <Group gap=\"xs\" className=\"flex flex-wrap gap-2 my-6\">\n      {allTopics.map((topic) => {\n        const isSelected = selectedTopics.includes(topic);\n        return (\n          <Badge\n            key={topic}\n            variant={isSelected ? \"filled\" : \"light\"}\n            color={isSelected ? \"blue\" : \"gray\"}\n            onClick={() => handleTopicToggle(topic)}\n            className=\"px-3 py-1 cursor-pointer\"\n            leftSection={isSelected ? <IconCheck size={14} /> : null}\n          >\n            {topic}\n          </Badge>\n        );\n      })}\n    </Group>\n\n    <Text className=\"mt-5 text-sm text-muted\">\n      Click topics to add or remove them from your interests\n    </Text>\n  </div>\n);\n\nexport default TopicsPanel;\n"],"names":[],"mappings":";;;;AACA;AAAA;AAAA;AAAA;AACA;;;;AAEA,MAAM,YAAY;IAAC;IAAY;IAAW;IAAc;CAAU;AAOlE,MAAM,cAA0C,CAAC,EAC/C,cAAc,EACd,iBAAiB,EAClB,iBACC,8OAAC;QAAI,WAAU;;0BACb,8OAAC,yKAAA,CAAA,QAAK;gBAAC,OAAO;gBAAG,WAAU;0BAAiB;;;;;;0BAG5C,8OAAC,uKAAA,CAAA,OAAI;gBAAC,WAAU;0BAAkB;;;;;;0BAIlC,8OAAC,yKAAA,CAAA,QAAK;gBAAC,KAAI;gBAAK,WAAU;0BACvB,UAAU,GAAG,CAAC,CAAC;oBACd,MAAM,aAAa,eAAe,QAAQ,CAAC;oBAC3C,qBACE,8OAAC,yKAAA,CAAA,QAAK;wBAEJ,SAAS,aAAa,WAAW;wBACjC,OAAO,aAAa,SAAS;wBAC7B,SAAS,IAAM,kBAAkB;wBACjC,WAAU;wBACV,aAAa,2BAAa,8OAAC,wNAAA,CAAA,YAAS;4BAAC,MAAM;;;;;qCAAS;kCAEnD;uBAPI;;;;;gBAUX;;;;;;0BAGF,8OAAC,uKAAA,CAAA,OAAI;gBAAC,WAAU;0BAA0B;;;;;;;;;;;;uCAM/B","debugId":null}},
    {"offset": {"line": 228, "column": 0}, "map": {"version":3,"sources":["file:///home/liban/Projects/Meti/Ensight_frontend/frontend/src/components/ui/profile/SavedArticlesPanel.tsx"],"sourcesContent":["\"use client\";\nimport React, { useEffect, useState } from \"react\";\nimport { Text, Loader, Button, Card, Group, Image, Stack } from \"@mantine/core\";\nimport { IconTrash } from \"@tabler/icons-react\";\nimport { useRouter } from \"next/navigation\";\nimport { Article } from \"@/lib/types\";\n\ninterface Profile {\n  id?: string;\n  //eslint-disable-next-line\n  savedArticles?: any[];\n}\n\ninterface SavedArticlesPanelProps {\n  profile: Profile | null;\n  userId?: string | null;\n}\n\nconst SavedArticlesPanel: React.FC<SavedArticlesPanelProps> = ({ profile, userId: propUserId }) => {\n  const router = useRouter();\n  const [savedArticles, setSavedArticles] = useState<Article[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [removingId, setRemovingId] = useState<string | null>(null);\n\n  // Get userId from prop, profile, or localStorage\n  const getUserFromStorage = () => {\n    if (typeof window === \"undefined\") return null;\n    try {\n      const user = localStorage.getItem(\"user\");\n      return user ? JSON.parse(user) : null;\n    } catch {\n      return null;\n    }\n  };\n  \n  const storedUser = getUserFromStorage();\n  const userId = propUserId || storedUser?.id || storedUser?.user_id;\n\n  useEffect(() => {\n    if (!userId) {\n      setLoading(false);\n      return;\n    }\n\n    const fetchSavedArticles = async () => {\n      try {\n        const token = localStorage.getItem(\"token\");\n        if (!token) {\n          setError(\"Please login to view saved articles\");\n          setLoading(false);\n          return;\n        }\n\n        const response = await fetch(`/api/profile/${userId}/saved_articles`, {\n          method: \"GET\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`,\n          },\n        });\n\n        if (!response.ok) {\n          const errorData = await response.json();\n          throw new Error(errorData.message || \"Failed to fetch saved articles\");\n        }\n\n        const data = await response.json();\n        setSavedArticles(data || []);\n      } catch (err) {\n        setError(err instanceof Error ? err.message : \"Failed to load saved articles\");\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchSavedArticles();\n  }, [userId]);\n\n  const handleRemove = async (articleId: string) => {\n    if (!userId) return;\n\n    setRemovingId(articleId);\n    try {\n      const token = localStorage.getItem(\"token\");\n      if (!token) {\n        throw new Error(\"Please login to remove articles\");\n      }\n\n      const response = await fetch(\n        `/api/profile/${userId}/saved_articles/${articleId}`,\n        {\n          method: \"DELETE\",\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        }\n      );\n\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.message || \"Failed to remove article\");\n      }\n\n      // Remove from local state\n      setSavedArticles((prev) => prev.filter((article) => article.id !== articleId));\n    } catch (err) {\n      setError(err instanceof Error ? err.message : \"Failed to remove article\");\n      setTimeout(() => setError(null), 3000);\n    } finally {\n      setRemovingId(null);\n    }\n  };\n\n  const handleArticleClick = (article: Article) => {\n    const href = article.href || `/${article.category}/${article.subcategory}/${article.slug}`;\n    router.push(href);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center py-8\">\n        <Loader />\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"p-4 border border-red-300 rounded-lg bg-red-50\">\n        <Text className=\"text-red-600\">{error}</Text>\n      </div>\n    );\n  }\n\n  if (savedArticles.length === 0) {\n    return (\n      <div className=\"p-8 text-center border rounded-lg bg-surface border-border\">\n        <Text className=\"mb-2 text-lg font-medium text-secondary\">\n          No saved articles yet\n        </Text>\n        <Text className=\"text-muted\">\n          Articles you save will appear here for easy access later.\n        </Text>\n      </div>\n    );\n  }\n\n  return (\n    <Stack gap=\"md\">\n      {savedArticles.map((article) => (\n        <Card\n          key={article.id}\n          shadow=\"sm\"\n          padding=\"lg\"\n          radius=\"md\"\n          withBorder\n          className=\"cursor-pointer hover:shadow-md transition-shadow\"\n        >\n          <Group gap=\"md\" align=\"flex-start\">\n            {article.image && (\n              <Image\n                src={typeof article.image === \"string\" ? article.image : URL.createObjectURL(article.image)}\n                alt={article.title}\n                width={120}\n                height={80}\n                fit=\"cover\"\n                radius=\"sm\"\n                onClick={() => handleArticleClick(article)}\n              />\n            )}\n            <Stack gap=\"xs\" style={{ flex: 1 }}>\n              <Text\n                fw={600}\n                size=\"lg\"\n                onClick={() => handleArticleClick(article)}\n                className=\"cursor-pointer hover:text-primary-accent transition-colors\"\n              >\n                {article.title}\n              </Text>\n              {article.description && (\n                <Text size=\"sm\" c=\"dimmed\" lineClamp={2}>\n                  {article.description}\n                </Text>\n              )}\n              <Group gap=\"sm\" mt=\"xs\">\n                <Text size=\"xs\" c=\"dimmed\">\n                  {article.category}\n                  {article.subcategory && ` â€¢ ${article.subcategory}`}\n                </Text>\n                {article.readTime && (\n                  <Text size=\"xs\" c=\"dimmed\">\n                    {article.readTime}\n                  </Text>\n                )}\n              </Group>\n            </Stack>\n            <Button\n              variant=\"subtle\"\n              color=\"red\"\n              size=\"sm\"\n              onClick={() => handleRemove(article.id)}\n              loading={removingId === article.id}\n              leftSection={<IconTrash size={16} />}\n            >\n              Remove\n            </Button>\n          </Group>\n        </Card>\n      ))}\n    </Stack>\n  );\n};\n\nexport default SavedArticlesPanel;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 518, "column": 0}, "map": {"version":3,"sources":["file:///home/liban/Projects/Meti/Ensight_frontend/frontend/src/components/ui/profile/ReadingHistoryPanel.tsx"],"sourcesContent":["import React from \"react\";\nimport { Text } from \"@mantine/core\";\n\ninterface Profile {\n  //eslint-disable-next-line\n  readingHistory?: any[];\n}\n\ninterface ReadingHistoryPanelProps {\n  profile: Profile | null;\n}\n\nconst ReadingHistoryPanel: React.FC<ReadingHistoryPanelProps> = ({\n  profile,\n}) => (\n  <Text className=\"text-muted\">\n    {profile?.readingHistory?.length\n      ? \"Your reading history appears here.\"\n      : \"No reading history available.\"}\n  </Text>\n);\n\nexport default ReadingHistoryPanel;\n"],"names":[],"mappings":";;;;AACA;;;AAWA,MAAM,sBAA0D,CAAC,EAC/D,OAAO,EACR,iBACC,8OAAC,uKAAA,CAAA,OAAI;QAAC,WAAU;kBACb,SAAS,gBAAgB,SACtB,uCACA;;;;;;uCAIO","debugId":null}},
    {"offset": {"line": 540, "column": 0}, "map": {"version":3,"sources":["file:///home/liban/Projects/Meti/Ensight_frontend/frontend/src/components/ui/auth/ResetPasswordForm.tsx"],"sourcesContent":["\"use client\";\nimport React, { useState } from \"react\";\nimport {\n  Modal,\n  TextInput,\n  Button,\n  Group,\n  PasswordInput,\n  Notification,\n} from \"@mantine/core\";\n\ninterface ResetPasswordFormProps {\n  opened: boolean;\n  onClose: () => void;\n}\n\nconst ResetPasswordForm: React.FC<ResetPasswordFormProps> = ({\n  opened,\n  onClose,\n}) => {\n  const [currentPassword, setCurrentPassword] = useState(\"\");\n  const [newPassword, setNewPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [success, setSuccess] = useState(false);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError(null);\n    setSuccess(false);\n\n    // Validation\n    if (!currentPassword || !newPassword || !confirmPassword) {\n      setError(\"All fields are required\");\n      return;\n    }\n\n    if (newPassword !== confirmPassword) {\n      setError(\"New passwords do not match\");\n      return;\n    }\n\n    if (newPassword.length < 6) {\n      setError(\"Password must be at least 6 characters long\");\n      return;\n    }\n\n    setLoading(true);\n\n    try {\n      const token = localStorage.getItem(\"token\");\n      if (!token) {\n        throw new Error(\"Please login to reset password\");\n      }\n\n      const response = await fetch(\"/api/auth/reset-password\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`,\n        },\n        body: JSON.stringify({\n          current_password: currentPassword,\n          new_password: newPassword,\n        }),\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.message || errorData.detail || \"Failed to reset password\");\n      }\n\n      setSuccess(true);\n      setCurrentPassword(\"\");\n      setNewPassword(\"\");\n      setConfirmPassword(\"\");\n\n      // Close modal after 2 seconds\n      setTimeout(() => {\n        setSuccess(false);\n        onClose();\n      }, 2000);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : \"Failed to reset password\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Modal\n      opened={opened}\n      onClose={onClose}\n      title=\"Reset Password\"\n      centered\n      size=\"md\"\n    >\n      {error && (\n        <Notification\n          color=\"red\"\n          title=\"Error\"\n          onClose={() => setError(null)}\n          className=\"mb-4\"\n        >\n          {error}\n        </Notification>\n      )}\n      {success && (\n        <Notification\n          color=\"green\"\n          title=\"Success\"\n          className=\"mb-4\"\n        >\n          Password reset successfully!\n        </Notification>\n      )}\n      <form onSubmit={handleSubmit}>\n        <TextInput\n          label=\"Current Password\"\n          type=\"password\"\n          placeholder=\"Enter your current password\"\n          value={currentPassword}\n          onChange={(e) => setCurrentPassword(e.currentTarget.value)}\n          required\n          mb=\"md\"\n          disabled={loading}\n        />\n        <PasswordInput\n          label=\"New Password\"\n          placeholder=\"Enter your new password\"\n          value={newPassword}\n          onChange={(e) => setNewPassword(e.currentTarget.value)}\n          required\n          mb=\"md\"\n          disabled={loading}\n          minLength={6}\n        />\n        <PasswordInput\n          label=\"Confirm New Password\"\n          placeholder=\"Confirm your new password\"\n          value={confirmPassword}\n          onChange={(e) => setConfirmPassword(e.currentTarget.value)}\n          required\n          mb=\"md\"\n          disabled={loading}\n          minLength={6}\n        />\n        <Group justify=\"flex-end\" mt=\"xl\">\n          <Button variant=\"outline\" onClick={onClose} disabled={loading}>\n            Cancel\n          </Button>\n          <Button type=\"submit\" loading={loading} disabled={success}>\n            Reset Password\n          </Button>\n        </Group>\n      </form>\n    </Modal>\n  );\n};\n\nexport default ResetPasswordForm;\n\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 738, "column": 0}, "map": {"version":3,"sources":["file:///home/liban/Projects/Meti/Ensight_frontend/frontend/src/app/profile/page.tsx"],"sourcesContent":["\"use client\";\nimport React, { useEffect, useState } from \"react\";\nimport {\n  Tabs,\n  Container,\n  Loader,\n  Title,\n  Button,\n  Notification,\n  Box,\n} from \"@mantine/core\";\nimport { IconSettings, IconBookmark, IconHistory } from \"@tabler/icons-react\";\nimport { useRouter } from \"next/navigation\";\nimport { useAuthStore } from \"@/lib/store/useAuthStore\";\nimport SettingsPanel from \"@/components/ui/profile/SettingsPanel\";\nimport TopicsPanel from \"@/components/ui/profile/TopicPanel\";\nimport SavedArticlesPanel from \"@/components/ui/profile/SavedArticlesPanel\";\nimport ReadingHistoryPanel from \"@/components/ui/profile/ReadingHistoryPanel\";\nimport ResetPasswordForm from \"@/components/ui/auth/ResetPasswordForm\";\nimport { Profile } from \"@/lib/types\";\n\nconst tabItems = [\n  {\n    value: \"preferences\",\n    label: \"Preferences\",\n    icon: <IconSettings size={16} className=\"inline-block mr-2 -mt-1\" />,\n  },\n  {\n    value: \"saved\",\n    label: \"Saved Articles\",\n    icon: <IconBookmark size={16} className=\"inline-block mr-2 -mt-1\" />,\n  },\n  {\n    value: \"history\",\n    label: \"Reading History\",\n    icon: <IconHistory size={16} className=\"inline-block mr-2 -mt-1\" />,\n  },\n];\n\nconst ProfilePage: React.FC = () => {\n  const router = useRouter();\n  const setLoggedIn = useAuthStore((state) => state.setLoggedIn);\n  const [profile, setProfile] = useState<Profile | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [settings, setSettings] = useState({\n    enablePersonalization: false,\n    trackReadingProgress: false,\n    contentUpdateNotifications: false,\n  });\n  const [selectedTopics, setSelectedTopics] = useState<string[]>([]);\n  const [isUpdating, setIsUpdating] = useState(false);\n  const [updateSuccess, setUpdateSuccess] = useState(false);\n  const [updateError, setUpdateError] = useState<string | null>(null);\n  const [profileImage, setProfileImage] = useState<File | null>(null);\n  const [profileImagePreview, setProfileImagePreview] = useState<string | null>(null);\n  const [resetPasswordOpened, setResetPasswordOpened] = useState(false);\n  const [userId, setUserId] = useState<string | null>(null);\n\n  useEffect(() => {\n    const fetchProfile = async () => {\n      try {\n        const token = localStorage.getItem(\"token\");\n        if (!token) {\n          setLoading(false);\n          router.push(\"/login\");\n          return;\n        }\n\n        // First, get the current user to get their ID\n        let userId: string | null = null;\n        const storedUser = localStorage.getItem(\"user\");\n        if (storedUser) {\n          try {\n            const user = JSON.parse(storedUser);\n            userId = user?.id || user?.user_id || null;\n          } catch (e) {\n            console.error(\"Failed to parse stored user\", e);\n          }\n        }\n\n        // If no userId from localStorage, try to get it from /auth/me\n        if (!userId) {\n          try {\n            const meResponse = await fetch(\"/api/auth/me\", {\n              method: \"GET\",\n              headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: `Bearer ${token}`,\n              },\n            });\n            \n            if (meResponse.ok) {\n              const meData = await meResponse.json();\n              userId = meData?.id || meData?.user_id || null;\n              // Update localStorage with the user data\n              if (meData) {\n                localStorage.setItem(\"user\", JSON.stringify(meData));\n              }\n            }\n          } catch (e) {\n            console.error(\"Failed to fetch current user\", e);\n          }\n        }\n\n        if (!userId) {\n          setLoading(false);\n          setProfile(null);\n          return;\n        }\n\n        // Store userId in state for later use\n        setUserId(userId);\n\n        // Now fetch the profile using the userId\n        const res = await fetch(`/api/profile/${userId}`, {\n          method: \"GET\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`,\n          },\n        });\n        \n        const data = await res.json();\n        if (!res.ok) {\n          setProfile(null);\n          console.error(\"Failed to fetch profile:\", data.message || \"Profile not found\");\n          return;\n        }\n        \n        setProfile(data);\n        setSettings({\n          enablePersonalization: data?.enable_personalization || data?.enablePersonalization || false,\n          trackReadingProgress: data?.track_reading_progress || data?.trackReadingProgress || false,\n          contentUpdateNotifications: data?.content_update_notifications || data?.contentUpdateNotifications || false,\n        });\n        setSelectedTopics(Array.isArray(data?.topics) ? data.topics : (typeof data?.topics === 'string' ? JSON.parse(data.topics) : []));\n        setProfileImagePreview(data?.profile_image || data?.profileImage || null);\n      } catch (error) {\n        setProfile(null);\n        console.error(\"Failed to fetch profile\", error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchProfile();\n  }, [router]);\n\n  const handleSettingChange = (setting: keyof typeof settings) => {\n    setSettings((prev) => ({ ...prev, [setting]: !prev[setting] }));\n  };\n\n  const handleTopicToggle = (topic: string) => {\n    setSelectedTopics((prev) =>\n      prev.includes(topic) ? prev.filter((t) => t !== topic) : [...prev, topic]\n    );\n  };\n\n  const handleImageChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const file = event.target.files?.[0];\n    if (file) {\n      setProfileImage(file);\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setProfileImagePreview(reader.result as string);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  const handleUpdate = async () => {\n    if (!userId) {\n      setUpdateError(\"User ID not found\");\n      return;\n    }\n\n    setIsUpdating(true);\n    setUpdateError(null);\n    setUpdateSuccess(false);\n\n    try {\n      const formData = new FormData();\n      \n      // Add settings\n      if (settings.enablePersonalization !== undefined) {\n        formData.append(\"enable_personalization\", String(settings.enablePersonalization));\n      }\n      if (settings.trackReadingProgress !== undefined) {\n        formData.append(\"track_reading_progress\", String(settings.trackReadingProgress));\n      }\n      if (settings.contentUpdateNotifications !== undefined) {\n        formData.append(\"content_update_notifications\", String(settings.contentUpdateNotifications));\n      }\n      \n      // Add topics as JSON string\n      if (selectedTopics.length > 0) {\n        formData.append(\"topics\", JSON.stringify(selectedTopics));\n      }\n      \n      // Add profile image if selected\n      if (profileImage) {\n        formData.append(\"profile_image\", profileImage);\n      }\n\n      const response = await fetch(`/api/profile/${userId}`, {\n        method: \"PATCH\",\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n        },\n        body: formData,\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.message || errorData.detail || \"Failed to update profile\");\n      }\n\n      const updatedData = await response.json();\n      setProfile(updatedData);\n      setSelectedTopics(updatedData?.topics || []);\n      setProfileImagePreview(updatedData?.profileImage || null);\n      setProfileImage(null); // Clear file input\n      setUpdateSuccess(true);\n      setTimeout(() => setUpdateSuccess(false), 3000);\n    } catch (error) {\n      setUpdateError(\n        error instanceof Error ? error.message : \"Failed to update profile\"\n      );\n      setTimeout(() => setUpdateError(null), 3000);\n    } finally {\n      setIsUpdating(false);\n    }\n  };\n\n  const handleLogout = () => {\n    localStorage.removeItem(\"user\");\n    localStorage.removeItem(\"token\");\n    setLoggedIn(false);\n    router.push(\"/login\");\n  };\n\n  if (loading) {\n    return (\n      <Container className=\"flex items-center justify-center min-h-screen p-6\">\n        <Loader />\n      </Container>\n    );\n  }\n\n  return (\n    <Container className=\"min-h-screen p-6\">\n      {profile ? (\n        <>\n          <Title order={1} className=\"mb-2 text-blue\">\n            Welcome, {profile?.firstName || profile?.first_name || \"\"} {profile?.lastName || profile?.last_name || \"\"}{\" \"}\n            <span className=\"mb-6 text-sm text-muted\"> ({profile?.email})</span>\n          </Title>\n\n          {updateSuccess && (\n            <Notification\n              title=\"Success\"\n              color=\"green\"\n              onClose={() => setUpdateSuccess(false)}\n              className=\"mb-4\"\n            >\n              Profile updated successfully!\n            </Notification>\n          )}\n          {updateError && (\n            <Notification\n              title=\"Error\"\n              color=\"red\"\n              onClose={() => setUpdateError(null)}\n              className=\"mb-4\"\n            >\n              {updateError}\n            </Notification>\n          )}\n\n          <Tabs\n            defaultValue=\"preferences\"\n            classNames={{ list: \"flex gap-3 mb-6 border-b border-border\" }}\n          >\n            <Tabs.List>\n              {tabItems.map((tab) => (\n                <Tabs.Tab\n                  key={tab.value}\n                  value={tab.value}\n                  leftSection={tab.icon}\n                  className=\"custom-tab-style\"\n                >\n                  {tab.label}\n                </Tabs.Tab>\n              ))}\n            </Tabs.List>\n            <Tabs.Panel value=\"preferences\" className=\"mt-6\">\n              <div className=\"mb-6\">\n                <label className=\"block mb-2 text-sm font-medium text-blue\">\n                  Profile Image\n                </label>\n                <div className=\"flex items-center gap-4\">\n                  {profileImagePreview && (\n                    <img\n                      src={profileImagePreview}\n                      alt=\"Profile preview\"\n                      className=\"object-cover w-20 h-20 rounded-full border-2 border-border\"\n                    />\n                  )}\n                  <input\n                    type=\"file\"\n                    accept=\"image/*\"\n                    onChange={handleImageChange}\n                    className=\"text-sm text-secondary file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary-accent file:text-white hover:file:bg-primary-accent/80\"\n                  />\n                </div>\n              </div>\n              <div className=\"grid grid-cols-1 gap-8 md:grid-cols-2\">\n                <SettingsPanel\n                  settings={settings}\n                  handleSettingChange={handleSettingChange}\n                  onPasswordReset={() => setResetPasswordOpened(true)}\n                />\n                <TopicsPanel\n                  selectedTopics={selectedTopics}\n                  handleTopicToggle={handleTopicToggle}\n                />\n              </div>\n              <div className=\"flex mt-6 space-x-7\">\n                <Button\n                  onClick={handleUpdate}\n                  loading={isUpdating}\n                  color=\"blue\"\n                  size=\"md\"\n                >\n                  Update Preferences\n                </Button>\n                <Button\n                  color=\"red\"\n                  variant=\"outline\"\n                  onClick={handleLogout}\n                  size=\"md\"\n                >\n                  Logout\n                </Button>\n              </div>\n            </Tabs.Panel>\n            <Tabs.Panel value=\"saved\" className=\"mt-6\">\n              <SavedArticlesPanel profile={profile} userId={userId} />\n            </Tabs.Panel>\n            <Tabs.Panel value=\"history\" className=\"mt-6\">\n              <ReadingHistoryPanel profile={profile} />\n            </Tabs.Panel>\n          </Tabs>\n          <ResetPasswordForm\n            opened={resetPasswordOpened}\n            onClose={() => setResetPasswordOpened(false)}\n          />\n        </>\n      ) : (\n        <Box className=\"flex flex-col items-center justify-center p-6\">\n          <Title order={2} className=\"text-red-600\">\n            Profile not found\n          </Title>\n          <Button\n            variant=\"outline\"\n            color=\"blue\"\n            className=\"mt-4\"\n            onClick={() => router.push(\"/\")}\n          >\n            Go to Home\n          </Button>\n          <Button\n            color=\"red\"\n            variant=\"outline\"\n            onClick={handleLogout}\n            size=\"md\"\n            mt={10}\n          >\n            Logout\n          </Button>\n        </Box>\n      )}\n    </Container>\n  );\n};\n\nexport default ProfilePage;\n"],"names":[],"mappings":"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","debugId":null}}]
}