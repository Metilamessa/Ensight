(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2809],{26029:(e,a,l)=>{"use strict";l.d(a,{Badge:()=>p});var r=l(95155);l(12115);var t=l(56204),o=l(68918),s=l(71180),c=l(43664),i=l(53791),n=l(69604),d=l(64511),m={root:"m_347db0ec","root--dot":"m_fbd81e3d",label:"m_5add502a",section:"m_91fdda9b"};let h={},u=(0,o.createVarsResolver)((e,a)=>{let{radius:l,color:r,gradient:o,variant:c,size:i,autoContrast:n}=a,d=e.variantColorResolver({color:r||e.primaryColor,theme:e,gradient:o,variant:c||"filled",autoContrast:n});return{root:{"--badge-height":(0,t.getSize)(i,"badge-height"),"--badge-padding-x":(0,t.getSize)(i,"badge-padding-x"),"--badge-fz":(0,t.getSize)(i,"badge-fz"),"--badge-radius":void 0===l?void 0:(0,t.getRadius)(l),"--badge-bg":r||c?d.background:void 0,"--badge-color":r||c?d.color:void 0,"--badge-bd":r||c?d.border:void 0,"--badge-dot-color":"dot"===c?(0,s.getThemeColor)(r,e):void 0}}}),p=(0,d.polymorphicFactory)((e,a)=>{let l=(0,c.useProps)("Badge",h,e),{classNames:t,className:o,style:s,styles:d,unstyled:p,vars:g,radius:v,color:x,gradient:b,leftSection:f,rightSection:y,children:j,variant:k,fullWidth:N,autoContrast:w,circle:S,mod:M,...A}=l,C=(0,i.useStyles)({name:"Badge",props:l,classes:m,className:o,style:s,classNames:t,styles:d,unstyled:p,vars:g,varsResolver:u});return(0,r.jsxs)(n.Box,{variant:k,mod:[{block:N,circle:S,"with-right-section":!!y,"with-left-section":!!f},M],...C("root",{variant:k}),ref:a,...A,children:[f&&(0,r.jsx)("span",{...C("section"),"data-position":"left",children:f}),(0,r.jsx)("span",{...C("label"),children:j}),y&&(0,r.jsx)("span",{...C("section"),"data-position":"right",children:y})]})});p.classes=m,p.displayName="@mantine/core/Badge"},44481:(e,a,l)=>{Promise.resolve().then(l.bind(l,54197))},54197:(e,a,l)=>{"use strict";l.r(a),l.d(a,{default:()=>j});var r=l(95155),t=l(12115),o=l(70112),s=l(26029),c=l(93751),i=l(58887),n=l(26903),d=l(66766);function m(e){let{selectedArticle:a,badges:l,buttons:m}=e,[h,u]=(0,t.useState)(null);return(0,t.useEffect)(()=>{let e=async e=>{try{let a=await fetch("/api/profile/".concat(e),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token")||"")}});if(!a.ok)return console.error("Failed to fetch author profile: ".concat(a.status)),null;return await a.json()}catch(e){return console.error("Error fetching author profile:",e),null}};a&&a.author&&e(a.author)},[a]),(0,r.jsx)("div",{className:"flex gap-8 lg:gap-12",children:(0,r.jsxs)("div",{className:"w-3/4 pl-0",children:[(0,r.jsx)(o.Group,{gap:"xs",className:"flex flex-wrap mb-2",children:l.slice(0,2).map((e,a)=>(0,r.jsx)(s.Badge,{variant:0===a?"light":"filled",size:"sm",radius:"md",className:"text-sm rounded-xl ".concat("PREMIUM"===e.label?"text-[var(--color-light)] bg-[var(--color-blue)] px-3 ml-3":"text-[var(--color-blueblack-white)]"),children:e.label},a))}),(0,r.jsx)(c.Title,{order:1,className:"mb-2 text-3xl font-bold leading-tight",style:{color:"var(--color-primary-accent)"},children:a.title}),(0,r.jsx)(i.Text,{className:"mb-4 text-base",style:{color:"var(--color-muted)"},children:a.description||"Expert analysis of the latest inflation data and its implications for Ethiopian businesses."}),(0,r.jsxs)(o.Group,{className:"flex items-start my-7",children:[(0,r.jsx)(d.default,{src:"string"==typeof(null==h?void 0:h.avatar)?null==h?void 0:h.avatar:"/placeholder-image.jpg",alt:null==h?void 0:h.title,width:(null==h?void 0:h.avatar)?48:100,height:48,className:"object-cover my-auto rounded-full"}),(0,r.jsxs)("div",{className:"flex flex-col ml-4",children:[(0,r.jsx)("h1",{className:"mb-1 text-sm font-semibold",style:{color:"var(--color-blueblack-white)"},children:h?"".concat(h.firstName," ").concat(h.lastName):"Author Unknown"}),(0,r.jsxs)("div",{className:"flex items-center gap-3 text-sm",style:{color:"var(--color-blueblack-white)"},children:[(0,r.jsx)("span",{children:a.date?new Date(a.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Unknown date"}),(0,r.jsxs)("span",{children:["• ",a.readTime||"15 min read"]})]})]})]}),(0,r.jsx)(o.Group,{gap:"xs",className:"flex flex-wrap my-10",children:l.slice(2).map((e,a)=>(0,r.jsxs)(s.Badge,{variant:"outline",className:"border text-[var(--color-blueblack-white)] hover:bg-[var(--color-surface-alt)] cursor-pointer rounded-xl mr-2 px-3 ".concat("Premium"===e.label?"border-[var(--color-primary-accent)] text-[var(--color-primary-accent)]":"border-[var(--color-border)]"),children:[e.icon&&e.icon,e.label]},a))}),(0,r.jsx)(o.Group,{gap:"xs",className:"flex flex-wrap mb-6",children:m.map((e,a)=>(0,r.jsx)(n.Button,{leftSection:e.icon,variant:"outline",onClick:e.onClick,className:"border text-[var(--color-blueblack-white)] hover:bg-[var(--color-surface-alt)] cursor-pointer rounded-sm mr-2 px-3 py-1",style:{borderColor:"var(--color-border)"},children:e.label},a))}),(0,r.jsx)("div",{className:"relative mb-4 overflow-hidden rounded-lg",children:(0,r.jsx)(d.default,{src:"string"==typeof a.image?a.image:"/placeholder-image.jpg",alt:a.title,width:400,height:150,className:"object-cover w-full rounded-lg h-100"})}),(0,r.jsx)(i.Text,{className:"mb-6 text-sm italic",style:{color:"var(--color-blueblack-white)"},children:a.description||"No description available for this article."}),(0,r.jsx)("div",{className:"w-full mb-10 prose max-w-none",children:(null==a?void 0:a.content)?a.content.split("\n").map((e,a)=>(0,r.jsx)("p",{className:"mb-4",children:e},a)):(0,r.jsx)(r.Fragment,{children:"No content available for this article."})})]})})}var h=l(86467),u=(0,h.A)("outline","book","IconBook",[["path",{d:"M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0",key:"svg-0"}],["path",{d:"M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0",key:"svg-1"}],["path",{d:"M3 6l0 13",key:"svg-2"}],["path",{d:"M12 6l0 13",key:"svg-3"}],["path",{d:"M21 6l0 13",key:"svg-4"}]]);function p(e){let{recentAnalysis:a,onArticleSelect:l}=e,[o,s]=(0,t.useState)({});return(0,t.useEffect)(()=>{let e={};return a.forEach(a=>{a.image instanceof File?e[a.id]=URL.createObjectURL(a.image):a.image?e[a.id]=a.image:e[a.id]="/images/logo-red.png"}),s(e),()=>{Object.values(e).forEach(e=>{e.startsWith("blob:")&&URL.revokeObjectURL(e)})}},[a]),(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsx)("h3",{className:"mb-4 text-2xl font-bold",style:{color:"var(--color-blueblack-white)"},children:"Recent Weekly Analysis"}),(0,r.jsx)("div",{className:"space-y-4",children:a&&a.length>0?a.map(e=>{let a=o[e.id]||"/images/logo-red.png",t=e.date?new Date(e.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"";return(0,r.jsxs)("div",{className:"border bg-[var(--color-surface)] hover:bg-[var(--color-surface-alt)] transition rounded-md shadow-sm p-4 cursor-pointer",style:{borderColor:"var(--color-border)"},onClick:()=>l(e),children:[(0,r.jsx)("div",{className:"mb-3",children:(0,r.jsx)(d.default,{src:a,alt:e.title,width:80,height:40,className:"object-cover w-full h-auto rounded-md"})}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2 mb-2",children:[(0,r.jsx)("span",{className:"inline-flex items-center px-2 py-1 text-sm rounded-md",style:{color:"var(--color-blueblack-white)",backgroundColor:"var(--color-surface-emphasis)"},children:e.category}),e.isPremium&&(0,r.jsxs)("span",{className:"inline-flex items-center px-3 py-1 text-sm rounded-md",style:{color:"var(--color-light)",backgroundColor:"var(--color-blue)"},children:[(0,r.jsx)(u,{size:14,className:"inline-block mr-1 -mt-0.5"}),"Premium"]})]}),(0,r.jsx)("p",{className:"text-base font-semibold mb-1 hover:text-[var(--color-primary-accent)]",style:{color:"var(--color-blueblack-white)"},children:e.title}),(0,r.jsx)("p",{className:"mb-2 text-sm",style:{color:"var(--color-blueblack-white)"},children:e.description}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm",style:{color:"var(--color-blueblack-white)"},children:[(0,r.jsx)("span",{children:e.author}),(0,r.jsx)("span",{children:"•"}),(0,r.jsx)("span",{children:t}),(0,r.jsx)("span",{children:"•"}),(0,r.jsx)("span",{children:e.readTime})]})]},e.id)}):(0,r.jsx)("div",{className:"text-gray-500",children:"No recent articles available"})})]})}var g=l(68497),v=(0,h.A)("outline","clock","IconClock",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 7v5l3 3",key:"svg-1"}]]),x=(0,h.A)("outline","users","IconUsers",[["path",{d:"M9 7m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0",key:"svg-0"}],["path",{d:"M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2",key:"svg-1"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"svg-2"}],["path",{d:"M21 21v-2a4 4 0 0 0 -3 -3.85",key:"svg-3"}]]),b=l(69651),f=(0,h.A)("outline","share","IconShare",[["path",{d:"M6 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-0"}],["path",{d:"M18 6m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-1"}],["path",{d:"M18 18m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-2"}],["path",{d:"M8.7 10.7l6.6 -3.4",key:"svg-3"}],["path",{d:"M8.7 13.3l6.6 3.4",key:"svg-4"}]]),y=l(83347);function j(){let[e,a]=(0,t.useState)({}),[l,o]=(0,t.useState)([]),[s,c]=(0,t.useState)(!1),[i,n]=(0,t.useState)(""),[d,h]=(0,t.useState)(null);(0,t.useEffect)(()=>{let e=localStorage.getItem("user");if(e)try{h(JSON.parse(e))}catch(e){h(null)}},[]);let j=async()=>{if(!(null==d?void 0:d.id)||!(null==e?void 0:e.id))return;let a="/api/profile/".concat(d.id);try{let l=await fetch(a,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token")||"")},body:JSON.stringify({savedArticles:[e.id]})});l.ok?console.log("Article saved successfully"):console.error("Failed to update profile: ".concat(l.status))}catch(e){console.error("Error updating profile:",e)}};(0,t.useEffect)(()=>{(async()=>{try{c(!0);let e=await fetch("/api/article/analysis",{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token")||"")}});if(!e.ok)throw Error("Failed to fetch article");let l=await e.json();l.length>0?(a(l[0]),o(l.slice(1,3))):n("No articles found")}catch(e){console.error("Error fetching article:",e),n(e.message)}finally{c(!1)}})()},[]);let k=[{label:e.category||"ANALYSIS | WEEKLY SESSIONS"},{label:e.isPremium?"PREMIUM":"FREE"},{label:(null==e?void 0:e.date)?new Date(e.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"May 10, 2025",icon:(0,r.jsx)(g.A,{size:14,className:"inline-block mr-2 -mt-1"})},{label:e.readTime||"5 min read",icon:(0,r.jsx)(v,{size:14,className:"inline-block mr-2 -mt-1"})},{label:(null==e?void 0:e.noOfReaders)?"".concat(e.noOfReaders," readers"):"No readers",icon:(0,r.jsx)(x,{size:14,className:"inline-block mr-2 -mt-1"})},{label:e.isPremium?"Premium":"Free",icon:(0,r.jsx)(u,{size:14,className:"inline-block mr-2 -mt-1"})}],N=[{label:"Save",icon:(0,r.jsx)(b.A,{size:16,className:"inline-block mr-2 -mt-1"}),onClick:j},{label:"Share",icon:(0,r.jsx)(f,{size:16,className:"inline-block mr-2 -mt-1"}),onClick:()=>{console.log("Article shared")}}];return(0,r.jsx)(r.Fragment,{children:s?(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,r.jsx)(y.Loader,{size:"xl",color:"blue"})}):i?(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,r.jsx)("div",{className:"text-red-500",children:i})}):(0,r.jsx)("div",{className:"min-h-screen",style:{backgroundColor:"var(--color-surface)"},children:(0,r.jsxs)("div",{className:"flex flex-col gap-6 px-2 py-6 sm:px-3 lg:px-4 lg:flex-row",children:[(0,r.jsx)("div",{className:"lg:w-3/4",children:(0,r.jsx)(m,{selectedArticle:e,badges:k,buttons:N})}),(0,r.jsx)("div",{className:"lg:w-1/4",children:(0,r.jsx)(p,{recentAnalysis:l,onArticleSelect:e=>{a(e)}})})]})})})}},68497:(e,a,l)=>{"use strict";l.d(a,{A:()=>r});var r=(0,l(86467).A)("outline","calendar","IconCalendar",[["path",{d:"M4 7a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12z",key:"svg-0"}],["path",{d:"M16 3v4",key:"svg-1"}],["path",{d:"M8 3v4",key:"svg-2"}],["path",{d:"M4 11h16",key:"svg-3"}],["path",{d:"M11 15h1",key:"svg-4"}],["path",{d:"M12 15v3",key:"svg-5"}]])},69651:(e,a,l)=>{"use strict";l.d(a,{A:()=>r});var r=(0,l(86467).A)("outline","bookmark","IconBookmark",[["path",{d:"M18 7v14l-6 -4l-6 4v-14a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4z",key:"svg-0"}]])},70112:(e,a,l)=>{"use strict";l.d(a,{Group:()=>p});var r=l(95155),t=l(12115),o=l(56204),s=l(68918),c=l(43664),i=l(53791),n=l(69604),d=l(36960),m={root:"m_4081bf90"};let h={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},u=(0,s.createVarsResolver)((e,a,l)=>{let{grow:r,preventGrowOverflow:t,gap:s,align:c,justify:i,wrap:n}=a,{childWidth:d}=l;return{root:{"--group-child-width":r&&t?d:void 0,"--group-gap":(0,o.getSpacing)(s),"--group-align":c,"--group-justify":i,"--group-wrap":n}}}),p=(0,d.factory)((e,a)=>{let l=(0,c.useProps)("Group",h,e),{classNames:s,className:d,style:p,styles:g,unstyled:v,children:x,gap:b,align:f,justify:y,wrap:j,grow:k,preventGrowOverflow:N,vars:w,variant:S,__size:M,mod:A,...C}=l,E=t.Children.toArray(x).filter(Boolean),z=E.length,B=(0,o.getSpacing)(null!=b?b:"md"),I="calc(".concat(100/z,"% - (").concat(B," - ").concat(B," / ").concat(z,"))"),R=(0,i.useStyles)({name:"Group",props:l,stylesCtx:{childWidth:I},className:d,style:p,classes:m,classNames:s,styles:g,unstyled:v,vars:w,varsResolver:u});return(0,r.jsx)(n.Box,{...R("root"),ref:a,variant:S,mod:[{grow:k},A],size:M,...C,children:E})});p.classes=m,p.displayName="@mantine/core/Group"}},e=>{var a=a=>e(e.s=a);e.O(0,[3347,6766,4481,8441,1684,7358],()=>a(44481)),_N_E=e.O()}]);