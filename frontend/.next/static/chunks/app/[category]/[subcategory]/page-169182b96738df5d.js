(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5388],{1666:(e,t,l)=>{Promise.resolve().then(l.bind(l,1765))},1765:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>p});var a=l(95155),r=l(12115),s=l(91590),c=l(83347),i=l(89047),o=l(69604),n=l(21220),d=l(93751),u=l(18229),h=l(56185),x=l(58887),m=l(51516),f=l(25471),g=l(68531),b=l(10459);function j(e){let{category:t,subcategory:l,breadcrumbItems:c}=e,[j,p]=(0,r.useState)([]),[w,y]=(0,r.useState)(!0),[N,v]=(0,r.useState)(null);return(0,r.useEffect)(()=>{!async function(){y(!0),v(null);try{let e=await fetch("/api/article/".concat(encodeURIComponent(t.toLowerCase()),"/").concat(encodeURIComponent(l.toLowerCase())),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token")||"")}});if(console.log("Category:",t),console.log("Subcategory:",l),console.log("Fetch response status:",e.status),!e.ok)throw Error("Error fetching articles: ".concat(e.statusText));let a=await e.json();p(a)}catch(e){v(e.message||"Failed to fetch articles")}finally{y(!1)}}()},[t,l]),(0,a.jsx)(o.Box,{component:"section",py:{base:24,md:20},children:(0,a.jsx)(s.Container,{size:"xl",children:(0,a.jsxs)(i.Grid,{gutter:50,children:[(0,a.jsx)(i.Grid.Col,{span:{base:12,md:8},children:(0,a.jsxs)(n.Stack,{gap:"md",children:[(0,a.jsx)(m.Q,{items:c}),(0,a.jsxs)(d.Title,{order:1,fw:500,size:28,c:"blueblack-white",children:[t," - ",l]}),w&&(0,a.jsx)(u.SimpleGrid,{cols:{base:1,sm:2,md:3},spacing:"lg",mt:"md",children:Array.from({length:4}).map((e,t)=>(0,a.jsx)(h.Skeleton,{height:150,radius:"md",animate:!0},t))}),N&&(0,a.jsx)(x.Text,{c:"red",mt:"md",children:N}),!w&&!N&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(x.Text,{size:"lg",c:"dimmed",children:["Showing ",j.length," articles"]}),(0,a.jsx)(u.SimpleGrid,{cols:{base:1,sm:2,md:2},spacing:"lg",children:j.map(e=>{var t;let l=e.category.toLowerCase(),r=(null==(t=e.subcategory)?void 0:t.toLowerCase())||"",s=e.slug||"",c="/".concat(l,"/").concat(r,"/").concat(s);return(0,a.jsx)(b.d,{article:e,linkPath:c},e.slug||e.id)})})]})]})}),(0,a.jsx)(i.Grid.Col,{span:{base:12,md:4},children:(0,a.jsxs)(n.Stack,{gap:"lg",children:[(0,a.jsx)(f.A,{}),(0,a.jsx)(g.x,{})]})})]})})})}function p(e){let{params:t}=e,{category:l,subcategory:o}=(0,r.use)(t),[n,d]=(0,r.useState)(null),[u,h]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=localStorage.getItem("user");if(e)try{d(JSON.parse(e))}catch(e){d(null)}h(!0)},[]);let x=e=>e.charAt(0).toUpperCase()+e.slice(1),m=[{label:"Home",href:"/"},{label:x(l),href:""},{label:x(o),href:"/".concat(l,"/").concat(o)}];return u?(0,a.jsx)(s.Container,{size:"xl",className:"py-3",children:(0,a.jsx)(i.Grid,{gutter:"md",children:(0,a.jsx)(i.Grid.Col,{span:12,children:(0,a.jsx)(j,{category:x(l),subcategory:x(o),breadcrumbItems:m})})})}):(0,a.jsx)(s.Container,{size:"lg",className:"py-8 flex items-center justify-center min-h-[400px]",children:(0,a.jsx)(c.Loader,{size:"xl",color:"blue"})})}},10459:(e,t,l)=>{"use strict";l.d(t,{d:()=>x});var a=l(95155),r=l(56185),s=l(18403),c=l(49077),i=l(26029),o=l(93751),n=l(58887),d=l(70112),u=l(6874),h=l.n(u);function x(e){var t,l;let{article:u,linkPath:x,loading:m=!1}=e;return m?(0,a.jsx)("div",{className:"flex flex-col w-full gap-6 mt-8",children:Array.from({length:1}).map((e,t)=>(0,a.jsx)(r.Skeleton,{height:150,radius:"md",animate:!0,className:"w-full"},t))}):u?(0,a.jsx)(h(),{href:x||"",passHref:!0,children:(0,a.jsxs)(s.Card,{withBorder:!0,className:"flex flex-col w-full transition-shadow duration-200 cursor-pointer bg-none rounded-xl hover:shadow-lg",radius:"md",style:{backgroundColor:"var(--background)",borderColor:"var(--border)",boxShadow:"var(--shadow-card)"},p:0,children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(c.Image,{src:u.image,alt:u.title,className:"w-full h-[160px] sm:h-[180px] lg:h-[200px] object-cover rounded-t-md",fallbackSrc:"/images/logo-red.png"}),u.isPremium?(0,a.jsx)(i.Badge,{className:"absolute font-bold bg-blue-800 top-2 right-2 text-blueblack-white",color:"blue",variant:"filled",children:"PREMIUM"}):(0,a.jsx)(i.Badge,{className:"absolute font-bold bg-blue-800 top-2 right-2 text-blueblack-white",color:"gray",variant:"filled",children:"FREE"})]}),(0,a.jsxs)("div",{className:"flex flex-col flex-1 p-4",children:[(0,a.jsx)(i.Badge,{variant:"outline",color:"blue",className:"mb-2 font-serif text-blueblack-white",style:{borderColor:"#1e40af"},children:u.category.split(" | ")[0]||"Uncategorized"}),(0,a.jsx)(o.Title,{order:4,className:"mb-2 font-serif font-bold line-clamp-2 text-blueblack-white",children:(null==(t=u.title)?void 0:t.slice(0,40))||"Untitled Article"}),(0,a.jsx)(n.Text,{className:"flex-1 mb-4 font-serif text-sm text-primary line-clamp-2",c:"dimmed",children:u.description||(null==(l=u.content)?void 0:l.slice(0,100))||"No description available"}),(0,a.jsx)(d.Group,{gap:"xs",className:"mt-auto",children:(0,a.jsxs)(n.Text,{className:"font-serif text-md text-blueblack-white",children:[u.noOfReaders||0," Readers |"," ",u.readTime||"Unknown"]})})]})]},u.slug||u.id)}):null}},25471:(e,t,l)=>{"use strict";l.d(t,{A:()=>d});var a=l(95155),r=l(12115),s=l(58887),c=l(53776),i=l(8141),o=l(83347),n=l(10459);function d(){let[e,t]=(0,r.useState)([]),[l,d]=(0,r.useState)(!0),[u,h]=(0,r.useState)(null);(0,r.useEffect)(()=>{!async function(){try{h(null);let e=await fetch("/api/article/popular");if(!e.ok)throw Error("Failed to fetch articles: ".concat(e.status," ").concat(e.statusText));let l=await e.json();t(l)}catch(e){console.error(e),h("An unexpected error occurred")}finally{d(!1)}}()},[]);let x=e[0];return(0,a.jsx)("aside",{children:(0,a.jsxs)("div",{style:{backgroundColor:"var(--background)",borderColor:"var(--border)",boxShadow:"var(--shadow-card)"},className:"w-full mx-auto my-4",children:[(0,a.jsx)(s.Text,{mb:"md",w:700,className:"font-serif text-xl text-blueblack-white",style:{fontFamily:"serif"},children:"Popular This Week"}),(0,a.jsx)(c.Divider,{mb:"md",style:{borderTopColor:"rgba(156, 163, 175, 1)"}}),l?(0,a.jsx)(i.Center,{h:100,children:(0,a.jsx)(o.Loader,{color:"blue"})}):u?(0,a.jsx)(i.Center,{h:100,children:(0,a.jsx)(s.Text,{c:"red",className:"font-serif",style:{fontFamily:"serif"},children:u})}):0===e.length?(0,a.jsx)(i.Center,{h:100,children:(0,a.jsx)(s.Text,{c:"dimmed",className:"font-serif",style:{fontFamily:"serif"},children:"No articles found"})}):(0,a.jsx)("div",{children:(0,a.jsx)(n.d,{article:x,linkPath:"/".concat(x.category,"/").concat(x.subcategory,"/").concat(x.slug)},x.slug||x.id)},x.slug)]})})}},51516:(e,t,l)=>{"use strict";l.d(t,{Q:()=>c});var a=l(95155),r=l(89210),s=l(99318);function c(e){let{items:t,className:l}=e;return(0,a.jsx)(r.Breadcrumbs,{separator:(0,a.jsx)(s.A,{size:16,className:"text-secondary"}),className:"top-[90px] left-20 w-full z-10 flex flex-row items-center gap-2 ".concat(l||""),children:t.map((e,l)=>(0,a.jsx)("a",{href:e.href,className:l===t.length-1?"text-primary-accent font-medium hover:underline":"text-blueblack-white hover:text-primary-accent transition-colors ",children:e.label},e.href))})}},68531:(e,t,l)=>{"use strict";l.d(t,{x:()=>n});var a=l(95155),r=l(12115),s=l(93751),c=l(8141),i=l(58887),o=l(10459);function n(){let[e,t]=(0,r.useState)([]),[l,n]=(0,r.useState)(!0),[d,u]=(0,r.useState)(null);return(0,r.useEffect)(()=>{(async()=>{try{n(!0);let e=await fetch("/api/article/popular");if(!e.ok)throw Error("Failed to fetch articles");let l=await e.json();t(l)}catch(e){console.error("Error fetching related articles:",e),u("Failed to load related articles. Please try again later.")}finally{n(!1)}})()},[]),(0,a.jsxs)("div",{className:"w-full mt-8",children:[(0,a.jsx)(s.Title,{order:3,className:"mb-4 font-serif text-xl font-semibold text-blueblack-white",children:"Related Articles"}),(0,a.jsx)("hr",{className:"mb-6 border-t border-blueblack-white"}),d&&(0,a.jsx)(c.Center,{className:"w-full mt-8",children:(0,a.jsx)(i.Text,{c:"red",size:"lg",className:"font-serif",children:d})}),!d&&l&&(0,a.jsx)("div",{className:"flex flex-col w-full gap-6",children:[1,2].map(e=>(0,a.jsx)(o.d,{loading:!0},e))}),!d&&!l&&0===e.length&&(0,a.jsx)(c.Center,{className:"w-full mt-8",children:(0,a.jsx)(i.Text,{c:"dimmed",size:"lg",className:"font-serif",children:"No related articles found."})}),!d&&!l&&e.length>0&&(0,a.jsx)("div",{className:"flex flex-col w-full gap-6",children:e.slice(0,2).map(e=>(0,a.jsx)(o.d,{article:e,linkPath:"/".concat(e.category,"/").concat(e.subcategory,"/").concat(e.slug)},e.id))})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[3347,6874,6802,2873,8441,1684,7358],()=>t(1666)),_N_E=e.O()}]);